@use "standard-00-variables" as *;

/**
 * @component Utility Classes
 * @category Utilities
 * @description Self-documenting utility classes following a consistent naming pattern.
 * All utilities use the format: [property]-[side/variant]-[size].
 * Size tokens: xs, s, base (default), l, xl, 2xl, 3xl
 * All utilities use logical properties for RTL support and !important for override capability.
 *
 * @pattern [property]-[side]-[size]
 * Examples:
 *   - .margin-top-xs (margin-top: var(--space-d4))
 *   - .padding-right-base (padding-right: var(--space))
 *   - .gap-l (gap: var(--space-2);)
 *
 * @prop {class} .margin-* Margin utilities (top, right, bottom, left, block, inline)
 * @prop {class} .padding-* Padding utilities (top, right, bottom, left, block, inline)
 * @prop {class} .gap-* Gap utilities for flexbox/grid
 * @prop {class} .width-* Width utilities
 * @prop {class} .height-* Height utilities
 * @prop {class} .text-size-* Typography size utilities
 * @prop {class} .text-weight-* Font weight utilities
 * @prop {class} .text-align-* Text alignment utilities
 * @prop {class} .text-transform-* Text transformation utilities
 * @prop {class} .line-height-* Line height utilities
 * @prop {class} .text-color-* Text color utilities
 * @prop {class} .background-color-* Background color utilities
 * @prop {class} .border-color-* Border color utilities
 * @prop {class} .display-* Visibility utilities
 *
 * @example
 * // Spacing
 * <div class="margin-top-base padding-right-l">Spaced content</div>
 * <div class="margin-bottom-xs gap-s">Flex container</div>
 *
 * // Typography
 * <p class="text-size-small text-color-muted">Small muted text</p>
 * <h2 class="text-size-display text-align-center">Display heading</h2>
 *
 * // Layout
 * <div class="width-full height-auto display-hidden">Hidden element</div>
 *
 * @since 0.1.0
 */

/* =========================== */
/* MIXIN: Generate Scale      */
/* =========================== */

/**
 * Generate spacing utility classes for any CSS property
 * @param {string} $property CSS property name
 * @param {string} $prefix Class name prefix
 *
 * @example
 * @include generate-scale(margin-top, margin-top);
 * Creates: .margin-top-3xs, .margin-top-2xs, .margin-top-xs, .margin-top-s, .margin-top-base, etc.
 */
@mixin generate-scale($prefix, $property) {
  // Define the scale map
  $scales: (
    "full": 100%,
    "0": 0,
    "auto": auto,
    "trim": var(--trim),
    "leading": var(--leading),
    "half": var(--space-half),
    "d5": var(--space-d5),
    "d4": var(--space-d4),
    "d3": var(--space-d3),
    "d2": var(--space-d2),
    "": var(--space),
    "whole": calc(var(--space) + var(--leading)),
    "2": var(--space-2),
    "3": var(--space-3),
    "4": var(--space-4),
    "5": var(--space-5),
    "6": var(--space-6),
    "7": var(--space-7),
    "8": var(--space-8),
    "9": var(--space-9),
    "10": var(--space-10),
    "11": var(--space-11),
    "12": var(--space-12),
  );

  .no-underline {
    text-decoration: none !important;
  }

  .bg {
    background-color: var(--color-background);
  }
  .bg-secondary {
    background-color: var(--color-surface);
  }

  // Loop through and generate classes
  @each $suffix, $value in $scales {
    @if $suffix == "" {
      .#{$prefix} {
        #{$property}: $value !important;
      }
    } @else {
      .#{$prefix}-#{$suffix} {
        #{$property}: $value !important;
      }
    }
  }
}

/**
 * Generate special value utilities (auto, none, etc.)
 * @param {string} $property CSS property name
 * @param {string} $class-suffix Class name suffix
 * @param {string} $value CSS value to apply
 */
@mixin generate-special($property, $class-suffix, $value) {
  .#{$class-suffix} {
    #{$property}: #{$value} !important;
  }
}

/* =========================== */
/* MARGIN UTILITIES            */
/* =========================== */
@include generate-scale(mt, margin-top);
@include generate-scale(mr, margin-right);
@include generate-scale(mb, margin-bottom);
@include generate-scale(ml, margin-left);
@include generate-scale(my, margin-block);
@include generate-scale(mx, margin-inline);
@include generate-scale(m, margin);

/* =========================== */
/* PADDING UTILITIES           */
/* =========================== */
@include generate-scale(pt, padding-top);
@include generate-scale(pr, padding-right);
@include generate-scale(pb, padding-bottom);
@include generate-scale(pl, padding-left);
@include generate-scale(py, padding-block);
@include generate-scale(px, padding-inline);
@include generate-scale(p, padding);

/* =========================== */
/* GAP UTILITIES               */
/* =========================== */
@include generate-scale(gap, gap);
@include generate-scale(column-gap, column-gap);

/* =========================== */
/* WIDTH UTILITIES             */
/* =========================== */

@include generate-scale(w, width);

.w-auto {
  width: auto !important;
}

.w-full {
  width: 100% !important;
}

.w-screen {
  width: 100vw !important;
}

.w-min {
  width: min-content !important;
}

.w-max {
  width: max-content !important;
}

.w-fit {
  width: fit-content !important;
}

/* Min Width */
@include generate-scale(min-width, min-width);

.min-width-d {
  min-width: d !important;
}

.min-width-full {
  min-width: 100% !important;
}

.min-width-screen {
  min-width: 100vw !important;
}

/* Max Width */
@include generate-scale(max-width, max-width);

.max-width-none {
  max-width: none !important;
}

.max-width-full {
  max-width: 100% !important;
}

.max-width-screen {
  max-width: 100vw !important;
}

/* =========================== */
/* HEIGHT UTILITIES            */
/* =========================== */

@include generate-scale(h, height);
.h-screen {
  height: 100vh !important;
}

.h-min {
  height: min-content !important;
}

.h-max {
  height: max-content !important;
}

.h-fit {
  height: fit-content !important;
}

/* Min Height */
@include generate-scale(min-height, min-height);

.min-height-d {
  min-height: d !important;
}

.min-height-full {
  min-height: 100% !important;
}

.min-height-screen {
  min-height: 100vh !important;
}

/* Max Height */
@include generate-scale(max-height, max-height);

.max-height-none {
  max-height: none !important;
}

.max-height-full {
  max-height: 100% !important;
}

.max-height-screen {
  max-height: 100vh !important;
}

/* =========================== */
/* TEXT SIZE UTILITIES         */
/* =========================== */

/**
 * Typography size utilities
 * Moved from standard-03-typography.scss for better layer organization
 */

.small,
.scale-d2 {
  font-size: var(--scale-d2);
}

.smaller,
.scale-d3 {
  font-size: var(--scale-d3);
}

.micro,
.scale-d4 {
  font-size: var(--scale-d4);
}

.nano,
.scale-d5 {
  font-size: var(--scale-d5);
}

.scale-2,
.medium {
  font-size: var(--scale-2);
}
.scale-3,
.big {
  font-size: var(--scale-3);
}
.scale-4,
.display {
  font-size: var(--scale-4);
}
.scale-5 {
  font-size: var(--scale-5);
}
.scale-6 {
  font-size: var(--scale-6);
}
.scale-7 {
  font-size: var(--scale-7);
}
.scale-8 {
  font-size: var(--scale-8);
}

/* ===========================
/* FONT FAMILY UTILITIES       */
/* =========================== */

/**
 * Font family utility classes
 * Moved from standard-03-typography.scss
 */
.compact {
  line-height: var(--line-height-compact);
}
.relaxed {
  line-height: var(--line-height-relaxed);
}

/* =========================== */
/* FONT WEIGHT UTILITIES       */
/* =========================== */

.bold {
  font-weight: var(--font-weight-bold);
}

.normal {
  font-weight: var(--font-weight);
}

/* =========================== */
/* TEXT ALIGNMENT UTILITIES    */
/* =========================== */

.left {
  text-align: left !important;
}

.center {
  text-align: center !important;
}

.right {
  text-align: right !important;
}

.justify {
  text-align: justify !important;
}

.relative {
  position: relative !important;
}

.absolute {
  position: absolute !important;
}

/* =========================== */
/* TEXT TRANSFORMATION         */
/* =========================== */

.uppercase {
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.lowercase {
  text-transform: lowercase;
}

.capitalize {
  text-transform: capitalize;
}

.text-transform-d {
  text-transform: none;
}

.no-wrap {
  white-space: nowrap !important;
}

.ellipsis,
.ellipsis li {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
}

/* =========================== */
/* TEXT COLOR UTILITIES        */
/* =========================== */

/**
 * Text color utilities
 * Moved from standard-02-color.scss
 */

.muted {
  color: var(--color-muted) !important;
}

.subtle {
  color: var(--color-subtle) !important;
}

.accent {
  --color-msg: var(--color-accent);
  color: var(--color-accent) !important;
}

.success {
  --color-msg: var(--color-success);
  color: var(--color-success) !important;
}

.debug,
.warning {
  --color-msg: var(--color-warning);
  color: var(--color-warning);
}

.error {
  --color-msg: var(--color-error);
  color: var(--color-error) !important;
}

.info {
  --color-msg: var(--color-info);
  color: var(--color-info) !important;
}

.red {
  color: var(--color-red) !important;
}

.orange {
  color: var(--color-orange) !important;
}

.yellow {
  color: var(--color-yellow) !important;
}

.green {
  color: var(--color-green) !important;
}

.cyan {
  color: var(--color-cyan) !important;
}

.blue {
  color: var(--color-blue) !important;
}

.purple {
  color: var(--color-magenta) !important;
}

.pink {
  color: var(--color-magenta) !important;
}

.bg-red {
  background-color: var(--color-red) !important;
}

.bg-orange {
  background-color: var(--color-orange) !important;
}

.bg-yellow {
  background-color: var(--color-yellow) !important;
}

.bg-green {
  background-color: var(--color-green) !important;
}

.bg-cyan {
  background-color: var(--color-cyan) !important;
}

.bg-blue {
  background-color: var(--color-blue) !important;
}

.bg-purple {
  background-color: var(--color-magenta) !important;
}

.bg-pink {
  background-color: var(--color-magenta) !important;
}

/* =========================== */
/* BACKGROUND COLOR UTILITIES  */
/* =========================== */

.bg-secondary {
  background: var(--color-secondary) !important;
}
.bg-surface {
  background: var(--color-surface) !important;
}
.bg-foreground {
  background: var(--color-foreground);
}
.bg-background {
  background: var(--color-background);
}
.invert {
  color: var(--color-background) !important;
  background: var(--color-foreground) !important;
}
@media (prefers-color-scheme: dark) {
  .invert {
    color: var(--color-foreground) !important;
    background: color-mix(
      in srgb,
      var(--color-foreground) 15%,
      transparent
    ) !important;
  }
}
.shadow {
  box-shadow: var(--shadow);
}
.shadow-inset {
  box-shadow: inset var(--shadow);
}

/* =========================== */
/* BORDER COLOR UTILITIES      */
/* =========================== */

.border {
  border: var(--border) !important;
}

.border-accent {
  border: var(--border-accent) !important;
}

.border-t {
  border-top: var(--border) !important;
}
.border-b {
  border-bottom: var(--border) !important;
}
.border-l {
  border-left: var(--border) !important;
}
.border-r {
  border-right: var(--border) !important;
}

/* =========================== */
/* DISPLAY & VISIBILITY       */
/* =========================== */

/**
 * Display utilities for showing/hiding content
 */

.hidden {
  display: none !important;
}

.block {
  display: block !important;
}

.inline {
  display: inline !important;
}

.inline-block {
  display: inline-block !important;
}

.radius {
  border-radius: var(--radius) !important;
}

.flex,
.flex-col {
  display: flex;
  align-items: baseline;
  gap: var(--space);
  * {
    margin-top: 0;
  }
}

.flex-1 {
  flex: 1;
  flex-grow: 1;
  flex-shrink: 1;
  flex-basis: 0%;
}

.flex-col {
  flex-direction: column;
}
.flex-wrap {
  flex-wrap: wrap;
}

@media (max-width: $small) {
  .medum.flex-row {
    flex-direction: column;
  }
}

.flex-far {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.items-center {
  align-items: center;
}
.justify-between {
  justify-content: space-between;
}
.justify-center {
  justify-content: center;
}

/**
 * Visually hidden (accessible hiding for screen readers)
 */
.visibility-screen-reader-only,
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* =========================== */
/* LAYOUT UTILITIES            */
/* =========================== */

/**
 * Centering and layout helpers
 */

.center-content {
  display: flex;
  align-items: center;
  justify-content: center;
}

.center-horizontally,
.mh-auto {
  margin-left: auto;
  margin-right: auto;
}

.center-vertically {
  display: flex;
  align-items: center;
}

/* =========================== */
/* RHYTHM UTILITIES            */
/* =========================== */

/**
 * Rhythm-aware utilities for consistent spacing
 */

.rhythm-compact {
  --base-gap: var(--leading);
}

.rhythm-relaxed {
  --base-gap: var(--space-2);
}

/* =========================== */
/* FALLBACK SUPPORT            */
/* =========================== */

/**
 * Fallback for browsers without CSS Grid or modern layout support
 */

@supports not (display: grid) {
  .rhythm {
    display: block;

    > * {
      margin-block-end: calc(var(--space-block-gap) * var(--space-gap));
    }

    > :last-child {
      margin-block-end: 0;
    }
  }
}

/* =========================== */
/* READING WIDTH UTILITIES     */
/* =========================== */

/**
 * Width constraints for optimal reading experience
 */

.line-xs {
  max-width: var(--line-width-xs) !important;
}

.line-s {
  max-width: var(--line-width-s) !important;
}

.line {
  max-width: var(--line-width) !important;
}

.line-l {
  max-width: var(--line-width-l) !important;
}

.line-xl {
  max-width: var(--line-width-xl) !important;
}

.line-full {
  max-width: var(--line-width-full) !important;
}

/* =========================== */
/* RESPONSIVE BREAKPOINTS      */
/* =========================== */

/**
 * @component Responsive Display Utilities
 * @category Utilities
 * @description Show/hide elements at different screen sizes.
 * Uses SCSS breakpoint variables for consistent responsive behavior.
 *
 * Classes:
 * - .sm-hidden: Hidden on small screens (≤768px)
 * - .sm-only: Visible only on small screens (≤768px)
 * - .md-hidden: Hidden on medium screens (769px-1024px)
 * - .md-only: Visible only on medium screens (769px-1024px)
 * - .lg-hidden: Hidden on large screens (≥1024px)
 * - .lg-only: Visible only on large screens (≥1024px)
 *
 * @example
 * <!-- Show on mobile, hide on desktop -->
 * <div class="sm-only">Mobile content</div>
 *
 * <!-- Hide on mobile, show on desktop -->
 * <div class="sm-hidden">Desktop content</div>
 *
 * <!-- Show only on tablets -->
 * <div class="md-only">Tablet content</div>
 *
 * @since 0.10.53
 */

/* Small screens (mobile): ≤768px */
@media (max-width: $small) {
  .sm\:hidden {
    display: none !important;
  }

  .sm\:only {
    display: inherit !important;
  }

  .md\:only {
    display: none !important;
  }

  .lg\:only {
    display: none !important;
  }

  .sm\:center {
    text-align: center !important;
    margin-inline: auto !important;
  }
}

/* Medium screens (tablet): 769px-1024px */
@media (min-width: calc($small + 1px)) and (max-width: $large) {
  .md\:hidden {
    display: none !important;
  }

  .sm\:only {
    display: none !important;
  }

  .md\:only {
    display: inherit !important;
  }

  .lg\:only {
    display: none !important;
  }
}

/* Large screens (desktop): ≥1024px */
@media (min-width: calc($large + 1px)) {
  .lg\:hidden {
    display: none !important;
  }

  .sm\:only {
    display: none !important;
  }

  .md\:only {
    display: none !important;
  }

  .lg\:only {
    display: inherit !important;
  }
}

/* =========================== */
/* MULTI-COLUMN FLOW UTILITIES */
/* =========================== */

/**
 * @component Multi-Column Flow Utilities
 * @category Utilities
 * @description CSS multi-column layout utilities for flowing text across columns.
 * Useful for magazine-style layouts, masonry grids, and dense text content.
 * Automatically stacks to single column on mobile for readability.
 *
 * Classes:
 * - .columns-2, .columns-3, .columns-4: Fixed column count
 * - .columns-auto: Automatic columns based on optimal width
 * - .columns-gap-compact, .columns-gap-wide: Column gap variants
 * - .columns-keep: Prevent breaks inside elements
 * - .columns-rule, .columns-rule-accent: Vertical lines between columns
 *
 * @example
 * <!-- Two-column layout -->
 * <div class="flow-2">
 *   <p>Content flows across two columns...</p>
 * </div>
 *
 * <!-- Auto-responsive columns with rules -->
 * <div class="flow-auto flow-rule">
 *   <p>Automatically creates optimal columns...</p>
 * </div>
 *
 * <!-- Prevent element from breaking across columns -->
 * <div class="flow-3">
 *   <blockquote class="flow-keep">Stays together</blockquote>
 * </div>
 *
 * @since 0.1.0
 */

/* Fixed column counts */
.columns,
.columns-2 {
  columns: 2;
  column-gap: var(--space);
}

.columns-3 {
  columns: 3;
  column-gap: var(--space);
}

.columns-4 {
  columns: 4;
  column-gap: var(--space);
}

/* Responsive column count based on container width */
.columns-auto {
  columns: auto;
  column-width: var(--line-width-s);
  /* ~32rem optimal column width */
  column-gap: var(--space);
}

[class|="columns"].compact {
  column-gap: var(--leading);
}

[class|="columns"].relaxed {
  column-gap: var(--space-2);
}

/* Column gap variants */
.columns-gap-compact {
  column-gap: var(--leading);
}

.columns-gap-wide {
  column-gap: var(--space-2);
}

/* Prevent breaks inside elements */
.columns-keep {
  break-inside: avoid;
  page-break-inside: avoid;
  /* Legacy support */
}

/* Column rules (vertical lines between columns) */
.columns-rule {
  column-rule: var(--border);
}

.columns-rule-accent {
  column-rule: 1px solid var(--color-accent);
}

/* Responsive breakpoints */
@media (max-width: $small) {
  .columns-2,
  .columns-3,
  .columns-4 {
    columns: 1;
    /* Stack on mobile */
  }
}

@media (min-width: calc($small + 1px)) and (max-width: $large) {
  .columns-3,
  .columns-4 {
    columns: 2;
    /* Reduce columns on tablets */
  }
}

.round {
  border-radius: var(--radius);
}
.rounded,
.rounded img {
  border-radius: 50%;
}

.no-mouse {
  pointer-events: none;
  user-select: none;
}
