---
/**
 * Assets Component
 * Includes Standard Framework CSS and JS bundles with optional features
 */
import config from "virtual:standard/config";

const {
  outputDir = config.standard?.outputDir || "assets/standard",
  includeComments = config.standard?.comments?.enabled || false,
  includeMermaid = config.standard?.mermaid?.enabled || false,
  cacheBuster = Date.now()
} = Astro.props;
---

<!-- Standard Framework CSS -->
<link rel="stylesheet" href={`/${outputDir}/standard.bundle.css?v=${cacheBuster}`}>

<!-- Standard Framework JS -->
<script src={`/${outputDir}/standard.bundle.full.js?v=${cacheBuster}`} type="module"></script>

<!-- Comments library (if enabled) -->
{includeComments && (
  <script src={`/${outputDir}/standard.comment.js`}></script>
)}

<!-- Mermaid diagrams (if enabled) -->
{includeMermaid && (
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({ startOnLoad: true });
  </script>
)}
