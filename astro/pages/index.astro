---
import Base from "../layouts/Base.astro";
import * as IndexContent from "../../content/index.md";
import { getCollection } from "astro:content";
import config from "virtual:standard/config";

// Get all docs from root level (not nested in subdirectories)
const allDocs = await getCollection("content");
const rootDocs = allDocs.filter((doc) => !doc.id.includes("/"));

// Sort by title
const sortedDocs = rootDocs.sort((a, b) =>
  (a.data.title || a.id).localeCompare(b.data.title || b.id),
);
---

<Base
  title={IndexContent.frontmatter?.title || "Standard Framework"}
  description={IndexContent.frontmatter?.description || config.description}
  class="prose"
>
  <IndexContent.Content />
</Base>
