---
import Base from "../layouts/Base.astro";
import * as IndexContent from "../../content/index.md";
import { getCollection } from "astro:content";
const config = (globalThis as { [key: string]: any }).__STANDARD_CONFIG__;
import Shad from "../components/Shad.astro";

import Badge from "../components/ui/Badge.astro";
import Button from "../components/ui/Button.astro";
import Breadrcumbs from "../components/ui/Breadcrumbs.astro";
import Slider from "../components/ui/Slider.astro";
import Switch from "../components/ui/Switch.astro";
import Card from "../components/ui/Card.astro";

// Get all docs from root level (not nested in subdirectories)
const allDocs = await getCollection("content");
const rootDocs = allDocs.filter((doc) => !doc.id.includes("/"));

// Sort by title
const sortedDocs = rootDocs.sort((a, b) =>
  (a.data.title || a.id).localeCompare(b.data.title || b.id),
);
---

<Base
  title={IndexContent.frontmatter?.title || "Standard Framework"}
  description={IndexContent.frontmatter?.description || config.description}
  class="prose"
>
  <h2>An idea of what's possible</h2>
  <p>Work in progres...</p>
  <section class="feature flex flex-wrap">
    <Card />
    <Slider />
    <Switch />
    <Breadrcumbs />
    <Button />
    <Badge />
  </section>
  <div id="toaster" class="toaster"></div>
  <hr />
  <Shad />
</Base>
