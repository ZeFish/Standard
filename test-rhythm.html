<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rhythm Test - H5 Margin Issue</title>
    <link rel="stylesheet" href="dist/standard.css">
    <style>
        /* Debug styles to visualize margins */
        .debug-margins * {
            outline: 1px solid red;
            background: rgba(255, 0, 0, 0.05);
        }

        .debug-margins h5 {
            background: rgba(0, 255, 0, 0.2) !important;
        }

        /* Show computed margin values */
        .show-margins::after {
            content: "margin-block-end: " attr(data-margin);
            display: block;
            font-size: 0.8rem;
            color: blue;
            font-family: monospace;
        }
    </style>
</head>
<body class="rhythm debug-margins">
    <h1>Rhythm Test Cases</h1>

    <section>
        <h2>Test 1: Simple H5 in Body Rhythm</h2>
        <h5>✅ This H5 should have margin</h5>
        <p>This paragraph comes after the h5</p>
    </section>

    <section>
        <h2>Test 2: H5 in Grid Structure (Problematic Case)</h2>
        <div class="visual-example">
            <div class="grid">
                <div class="col-6">
                    <h5>❌ Physical Properties (Avoid)</h5>
                    <pre><code>/* This is the problematic h5 */</code></pre>
                    <p class="small">This paragraph should show spacing</p>
                </div>
                <div class="col-6">
                    <h5>✅ Another H5 for comparison</h5>
                    <pre><code>/* Another h5 in same grid */</code></pre>
                    <p class="small">This paragraph for comparison</p>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h2>Test 3: H5 in Different Containers</h2>
        <div class="container">
            <h5>H5 in .container</h5>
            <p>Following paragraph</p>
        </div>

        <div class="demo-box">
            <h5>H5 in .demo-box</h5>
            <p>Following paragraph</p>
        </div>

        <div class="rhythm">
            <h5>H5 in explicit .rhythm</h5>
            <p>Following paragraph</p>
        </div>
    </section>

    <section>
        <h2>Test 4: CSS Cascade Investigation</h2>
        <div class="grid">
            <div class="col-6">
                <h5 style="border: 2px solid blue;">H5 with blue border</h5>
                <p>Check if this H5 gets rhythm margin</p>
            </div>
        </div>
    </section>

    <script>
        // Add computed margin info to elements
        document.addEventListener('DOMContentLoaded', function() {
            const h5s = document.querySelectorAll('h5');
            h5s.forEach(h5 => {
                const computedStyle = window.getComputedStyle(h5);
                const marginBlockEnd = computedStyle.getPropertyValue('margin-block-end');
                const marginBottom = computedStyle.getPropertyValue('margin-bottom');

                console.log('H5 text:', h5.textContent.substring(0, 30));
                console.log('margin-block-end:', marginBlockEnd);
                console.log('margin-bottom:', marginBottom);
                console.log('---');

                // Add visual indicator
                h5.setAttribute('data-margin', marginBlockEnd || marginBottom);
                h5.classList.add('show-margins');
            });
        });
    </script>
</body>
</html>
