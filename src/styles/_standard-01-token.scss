@use "standard-00-variables" as *;

/**
 * @component Design Tokens
 * @category Foundation
 * @description Primitive design tokens forming the foundation of the design system.
 * Includes mathematical ratios, modular scales, spacing system, and animation curves.
 * All tokens use CSS custom properties for runtime customization.
 *
 * @example
 * :root {
 *   --font-ratio: var(--ratio-silver);
 *   --base: 1rlh;
 *   --scale-2: calc(1rem * 1.414);
 * }
 *
 * @since 0.1.0
 * @see standard-00-variables.scss
 */

/* Primitive Design Tokens - Foundation layer with logical properties */

:root {
    /* Base measurements & ratios - the foundation of everything else */
    --font-size: 1rem;

    /* Golden Ratio & Mathematical Precision */
    --ratio-golden: 1.618;
    --ratio-wholestep: 1.618;
    --ratio-silver: 1.414;
    --ratio-halfstep: 1.272; /* sqrt of golden ratio */
    --ratio-quarterstep: 1.128;
    --ratio-eighthstep: 1.062;

    /* Current ratio (configurable) */
    --font-ratio: var(--ratio-golden);
    --font-density: var(--font-ratio);
    --font-density-s: max(calc(var(--font-density) * 0.75), var(--font-size));
    --rhythm-gap: 1;
    --rhythm-gap-block: var(--font-ratio);
    --body-padding: var(--base-2);

    --blur: blur(7px);
    --modal-background: color-mix(
        in srgb,
        var(--color-background-secondary) 85%,
        transparent
    );
    --block-padding-inner: var(--base-d2);

    --font-mobile-size: 1.1rem;
    --font-mobile-ratio: var(--ratio-halfstep);
    --font-mobile-density: 1.2;
    --body-mobile-padding-multiplier: 1;

    /* Modular Scale - calculated from font-ratio */
    --scale-d5: calc(var(--font-size) * pow(var(--font-ratio), -3));
    --scale-d4: calc(var(--font-size) * pow(var(--font-ratio), -2));
    --scale-d3: calc(var(--font-size) * pow(var(--font-ratio), -1));
    --scale-d2: calc(var(--font-size) * pow(var(--font-ratio), -0.5));
    --scale: var(--font-size);
    --scale-2: calc(var(--font-size) * pow(var(--font-ratio), 0.5));
    --scale-3: calc(var(--font-size) * pow(var(--font-ratio), 1));
    --scale-4: calc(var(--font-size) * pow(var(--font-ratio), 2));
    --scale-5: calc(var(--font-size) * pow(var(--font-ratio), 3));

    /* Logical Spacing Scale - based on rhythm unit */
    --base-d5: calc(1rlh / 5);
    --base-d4: calc(1rlh / 4);
    --base-d3: calc(1rlh / 3);
    --base-d2: calc(1rlh / 2);
    --base: 1rlh; /* Base rhythm unit */
    --base-2: calc(2 * 1rlh);
    --base-3: calc(3 * 1rlh);
    --base-4: calc(4 * 1rlh);
    --base-5: calc(5 * 1rlh);
    --base-6: calc(6 * 1rlh);
    --base-7: calc(7 * 1rlh);
    --base-8: calc(8 * 1rlh);
    --base-9: calc(9 * 1rlh);
    --base-10: calc(10 * 1rlh);

    /* Grid system tokens */
    --grid-gap: var(--base);
    --grid-row-gap: var(--grid-gap); /* Separate control for row spacing */

    /* Logical border properties */
    --hr-thickness: 1px;
    --border-radius: var(--base-d4);

    /* Content area tokens */
    --line-width-xs: 32rem; /* ~384px - narrow sidebar content */
    --line-width-s: 38rem; /* ~512px - short form content */
    --line-width-m: 42rem; /* ~672px - optimal reading (60-75 chars) - DEFAULT */
    --line-width-l: 50rem; /* ~800px - wider articles */
    --line-width-xl: 60rem; /* ~960px - documentation/wide content */
    --line-width-full: calc(
        100vw - (var(--base) * 2)
    ); /* responsive full width with margins */
    --line-width: var(--line-width-m);

    /* Z-index scale */
    --z-base: 1;
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-offcanvas: 1050;
    --z-modal: 1060;
    --z-popover: 1070;
    --z-tooltip: 1080;
    --z-toast: 1090;
    --z-image-zoom: 9999;

    /* Animation scale */
    --duration-superfast: 0.15s;
    --duration-fast: 0.25s;
    --duration-normal: 0.35s;
    --duration-slow: 0.5s;

    --motion-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --motion-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

    /**
     * Flow Space Unit
     *
     * @group tokens-spacing
     * @author Francis Fontaine
     * @since 0.1.0
     *
     * In 1455, Johannes Gutenberg printed his 42-line Bible with something
     * remarkable: every line of text sat on an invisible grid, spaced with
     * mathematical precision. He didn't just invent movable type—he invented
     * the baseline grid.
     *
     * Fast forward to 1501, and Aldus Manutius in Venice discovered that
     * 120% line-height made text sing. Not 100%, not 150%—exactly 120%.
     * At 16px base font, that's 1.5rem, or 24 pixels. This single number
     * became the foundation of readable typography for the next 500 years.
     *
     * This variable holds that magic number. It's the fundamental spacing unit
     * that everything else derives from—the heartbeat of your vertical rhythm.
     * Change it, and you change the entire breathing pattern of your design.
     *
     * ### Future Improvements
     *
     * - Make responsive (smaller on mobile)
     * - Add clamp() for fluid scaling
     *
     * @see {variable} --flow-scale-* - Multipliers based on this unit
     * @see {mixin} rhythm - Vertical rhythm system
     * @see {class} .flow - Flow spacing utility
     *
     * @link https://en.wikipedia.org/wiki/Aldus_Manutius History of the Aldine Press
     *
     * @example scss
     *   .card {
     *     padding: var(--flow-space);
     *     gap: calc(var(--flow-space) / 2);
     *   }
     */
    --flow-space: 1.5rem;

    /* Optional: Scale multipliers for consistent spacing */
    --flow-scale-xs: calc(var(--flow-space) * 0.5); /* 0.75rem */
    --flow-scale-s: calc(var(--flow-space) * 0.75); /* 1.125rem */
    --flow-scale-m: var(--flow-space); /* 1.5rem */
    --flow-scale-l: calc(var(--flow-space) * 1.5); /* 2.25rem */
    --flow-scale-xl: calc(var(--flow-space) * 2); /* 3rem */
    --flow-scale-xxl: calc(var(--flow-space) * 3); /* 4.5rem */
}

/* Responsive adjustments - collapse gutters on small screens */
@media only screen and (max-width: #{$small}) {
    :root {
        --font-size: var(--font-mobile-size) !important;
        --font-ratio: var(--font-mobile-ratio) !important;
        --font-density: var(--font-mobile-density);
        --body-padding: calc(
            var(--base) * var(--body-mobile-padding-multiplier)
        ) !important;
    }
}
