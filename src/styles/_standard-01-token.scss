@use "standard-00-variables" as *;

/**
 * @component Design Tokens
 * @category Foundation
 * @description Primitive design tokens forming the foundation of the design system.
 * Includes mathematical ratios, modular scales, spacing system, and animation curves.
 * All tokens use CSS custom properties for runtime customization.
 *
 * @example
 * :root {
 *   --optical-ratio: var(--optical-ratio-silver);
 *   --base: 1rlh;
 *   --scale-2: calc(1rem * 1.414);
 * }
 *
 * @since 0.1.0
 * @see standard-00-variables.scss
 */

/* Primitive Design Tokens - Foundation layer with logical properties */

:root {
    
    /* Base measurements & ratios - the foundation of everything else */
    --font-size: 1rem;
    --line-height: 1.5; /* The actual line-height of html */
    --optical-ratio: 1.5; /* Optical Harmony ratio (font size) */
    
    /* Represents "one line of text without line-height spacing" */
    --leading: calc((var(--line-height) - 1) * var(--font-size));
    --baseline: 1rlh;
    --font-raw: calc(1rlh / var(--line-height));
    
    --gap: var(--baseline);
    --gap-block: calc(var(--baseline) * 4); /* Spacing between different type of block */
    --gap-compact: calc(var(--baseline) / 4);
    --gap-relaxed: calc(var(--baseline) * 4);
    --gap-body: var(--gap-relaxed);
    --gap-grid: var(--leading); /* Grid system tokens */

    /* Design standard system */
    --blur: blur(7px);
    --stroke-width: 1px;
    --transition: 0.5s ease;
    --radius: var(--leading);
    --modal-background: color-mix(in srgb, var(--color-background) 60%, transparent);

    

    
    
    



    /* CONSTANT */
    /* CONSTANT */
    /* CONSTANT */ 

    /* Golden Ratio & Mathematical Precision */
    --ratio-golden: 1.618;
    --ratio-wholestep: 1.618;
    --ratio-silver: 1.414;
    --ratio-halfstep: 1.272; /* sqrt of golden ratio */
    --ratio-quarterstep: 1.128;
    --ratio-eighthstep: 1.062;


    /* Content area tokens */
    --line-width-xs: 32rem; /* ~384px - narrow sidebar content */
    --line-width-s: 38rem; /* ~512px - short form content */
    --line-width-m: 42rem; /* ~672px - optimal reading (60-75 chars) - DEFAULT */
    --line-width-l: 50rem; /* ~800px - wider articles */
    --line-width-xl: 60rem; /* ~960px - documentation/wide content */
    --line-width-full: calc(100vw - (var(--base) * 2)); /* responsive full width with margins */
    --line-width: var(--line-width-m);
    
    /* Baseline helper tokens */
    --base: var(--baseline);
    /* Name use for actual spacing in the framework  */
    --base-d8: calc(var(--base) / 8);
    --base-d4: calc(var(--base) / 4);
    --base-d2: calc(var(--base) / 2);
    --base-2: calc(var(--base) * 2);
    --base-3: calc(var(--base) * 3);
    --base-4: calc(var(--base) * 4);
    --base-8: calc(var(--base) * 8);

    /* Optical harmony scale */
    --scale-d5: calc(var(--font-size) * pow(var(--optical-ratio), -3));
    --scale-d4: calc(var(--font-size) * pow(var(--optical-ratio), -2));
    --scale-d3: calc(var(--font-size) * pow(var(--optical-ratio), -1));
    --scale-d2: calc(var(--font-size) * pow(var(--optical-ratio), -0.5));
    --scale: var(--font-size);
    --scale-2: calc(var(--font-size) * pow(var(--optical-ratio), 0.5));
    --scale-3: calc(var(--font-size) * pow(var(--optical-ratio), 1));
    --scale-4: calc(var(--font-size) * pow(var(--optical-ratio), 2));
    --scale-5: calc(var(--font-size) * pow(var(--optical-ratio), 3));
    --scale-6: calc(var(--font-size) * pow(var(--optical-ratio), 4));
    --scale-7: calc(var(--font-size) * pow(var(--optical-ratio), 5));
    --scale-8: calc(var(--font-size) * pow(var(--optical-ratio), 6));
    --scale-9: calc(var(--font-size) * pow(var(--optical-ratio), 7));
    --scale-10: calc(var(--font-size) * pow(var(--optical-ratio), 8));

    /* Mobile */
    --mobile-font-size: 1.1rem;
    --mobile-optical-ratio: var(--ratio-silver);
    --mobile-line-height: 1.5;
    --mobile-body-padding: var(--baseline);
    --mobile-base-gap: var(--baseline); /* Space between standard block like paragraph */
    --mobile-base-block-gap: var(--baseline);


    /* Z-index scale */
    --z-base: 1;
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-offcanvas: 1050;
    --z-modal: 1060;
    --z-popover: 1070;
    --z-tooltip: 1080;
    --z-toast: 1090;
    --z-image-zoom: 9999;

    /* Callout only animation, to test */
    --duration-superfast: 0.15s;
    
    
    /* ARCHIVED */
    /* ARCHIVED */
    /* ARCHIVED */

    /* Compact variation */
    --line-height-s: max(calc(var(--line-height) / 2), 1);
    /* Baseline system tokens */
    --base-gap: var(--base-4); /* Space between standard block like paragraph */
    --base-block-gap: var(--base-4); /* Space between special block like image blockquote and code block */
    --body-padding: var(--base-4); /* Padding around the body, can be negated by .body-p-neg, .body-p-neg-header, .body-p-neg-footer */
}

#{$text-elements} {
    text-box-trim: trim-both;
    text-box-edge: cap alphabetic;
}

/* Responsive adjustments - collapse gutters on small screens */
@media only screen and (max-width: #{$small}) {
    :root {
        --gap: var(--mobile-base-gap);
        --gap-block: var(--mobile-base-block-gap);
        --gap-body: var(--mobile-body-padding) !important;
        --font-size: var(--mobile-font-size) !important;
        --optical-ratio: var(--mobile-optical-ratio) !important;
        --line-height: var(--mobile-line-height);
    }
    pre,
    blockquote {
        padding-inline: var(--base) !important;
        font-size: var(--scale-d3) !important;
    }
}

body::after {
    content: "";
    position: fixed;
    inset: 0;
    opacity: 0.1;
    z-index: 99999;
    pointer-events: none;
    mix-blend-mode: multiply;
    background-size: 100px;
    background-repeat: repeat;

    background-image: url("/assets/img/paper.png");
}
body.theme-dark::after {
    opacity: 0.5;
    mix-blend-mode: multiply;
}

body::before {
    content: "";
    position: fixed;
    inset: 0;
    opacity: 0.04;
    z-index: 999;
    pointer-events: none;
    background-size: 256px;
    background-repeat: repeat;
    mix-blend-mode: multiply;
    /* noise */
    background-image: url("/assets/img/noise.png");
}
