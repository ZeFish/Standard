var htmx=function(){"use strict";const Q={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(e,t){return dn(e,t||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0,historyRestoreAsHxRequest:!0,reportValidityOfForms:!1},parseInterval:null,location:location,_:null,version:"2.0.8"};Q.onLoad=V,Q.process=Ft,Q.on=xe,Q.off=be,Q.trigger=ae,Q.ajax=Ln,Q.find=f,Q.findAll=x,Q.closest=g,Q.remove=_,Q.addClass=K,Q.removeClass=G,Q.toggleClass=W,Q.takeClass=Z,Q.swap=ze,Q.defineExtension=_n,Q.removeExtension=zn,Q.logAll=j,Q.logNone=$,Q.parseInterval=d,Q._=e;const n={addTriggerHandler:St,bodyContains:se,canAccessLocalStorage:X,findThisElement:Se,filterValues:yn,swap:ze,hasAttribute:s,getAttributeValue:a,getClosestAttributeValue:ne,getClosestMatch:q,getExpressionVars:Rn,getHeaders:mn,getInputValues:dn,getInternalData:oe,getSwapSpecification:bn,getTriggerSpecs:st,getTarget:Ee,makeFragment:D,mergeObjects:le,makeSettleInfo:Sn,oobSwap:Te,querySelectorExt:ue,settleImmediately:Yt,shouldCancel:ht,triggerEvent:ae,triggerErrorEvent:fe,withExtensions:Vt},de=["get","post","put","delete","patch"],R=de.map(function(e){return"[hx-"+e+"], [data-hx-"+e+"]"}).join(", ");function d(e){if(null==e)return;let t=NaN;return t="ms"==e.slice(-2)?parseFloat(e.slice(0,-2)):"s"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1)):"m"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))*60:parseFloat(e),isNaN(t)?void 0:t}function ee(e,t){return e instanceof Element&&e.getAttribute(t)}function s(e,t){return!!e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function a(e,t){return ee(e,t)||ee(e,"data-"+t)}function u(e){const t=e.parentElement;return!t&&e.parentNode instanceof ShadowRoot?e.parentNode:t}function te(){return document}function y(e,t){return e.getRootNode?e.getRootNode({composed:t}):te()}function q(e,t){for(;e&&!t(e);)e=u(e);return e||null}function o(e,t,n){const o=a(t,n),r=a(t,"hx-disinherit");var i=a(t,"hx-inherit");if(e!==t){if(Q.config.disableInheritance)return i&&("*"===i||i.split(" ").indexOf(n)>=0)?o:null;if(r&&("*"===r||r.split(" ").indexOf(n)>=0))return"unset"}return o}function ne(e,t){let n=null;if(q(e,function(r){return!!(n=o(e,ce(r),t))}),"unset"!==n)return n}function h(e,t){return e instanceof Element&&e.matches(t)}function A(e){const t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return t?t[1].toLowerCase():""}function L(e){if("parseHTMLUnsafe"in Document)return Document.parseHTMLUnsafe(e);return(new DOMParser).parseFromString(e,"text/html")}function N(e,t){for(;t.childNodes.length>0;)e.append(t.childNodes[0])}function r(e){const t=te().createElement("script");return ie(e.attributes,function(e){t.setAttribute(e.name,e.value)}),t.textContent=e.textContent,t.async=!1,Q.config.inlineScriptNonce&&(t.nonce=Q.config.inlineScriptNonce),t}function i(e){return e.matches("script")&&("text/javascript"===e.type||"module"===e.type||""===e.type)}function I(e){Array.from(e.querySelectorAll("script")).forEach(e=>{if(i(e)){const t=r(e),n=e.parentNode;try{n.insertBefore(t,e)}catch(e){H(e)}finally{e.remove()}}})}function D(e){const t=e.replace(/<head(\s[^>]*)?>[\s\S]*?<\/head>/i,""),n=A(t);let o;if("html"===n){o=new DocumentFragment;const t=L(e);N(o,t.body),o.title=t.title}else if("body"===n){o=new DocumentFragment;const e=L(t);N(o,e.body),o.title=e.title}else{const e=L('<body><template class="internal-htmx-wrapper">'+t+"</template></body>");o=e.querySelector("template").content,o.title=e.title;var r=o.querySelector("title");r&&r.parentNode===o&&(r.remove(),o.title=r.innerText)}return o&&(Q.config.allowScriptTags?I(o):o.querySelectorAll("script").forEach(e=>e.remove())),o}function re(e){e&&e()}function t(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function P(e){return"function"==typeof e}function k(e){return t(e,"Object")}function oe(e){const t="htmx-internal-data";let n=e[t];return n||(n=e[t]={}),n}function M(e){const t=[];if(e)for(let n=0;n<e.length;n++)t.push(e[n]);return t}function ie(e,t){if(e)for(let n=0;n<e.length;n++)t(e[n])}function F(e){const t=e.getBoundingClientRect(),n=t.top,o=t.bottom;return n<window.innerHeight&&o>=0}function se(e){return e.getRootNode({composed:!0})===document}function B(e){return e.trim().split(/\s+/)}function le(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function v(e){try{return JSON.parse(e)}catch(e){return H(e),null}}function X(){const e="htmx:sessionStorageTest";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}function U(e){const t=new URL(e,"http://x");return t&&(e=t.pathname+t.search),"/"!=e&&(e=e.replace(/\/+$/,"")),e}function e(e){return On(te().body,function(){return eval(e)})}function V(e){return Q.on("htmx:load",function(t){e(t.detail.elt)})}function j(){Q.logger=function(e,t,n){console&&console.log(t,e,n)}}function $(){Q.logger=null}function f(e,t){return"string"!=typeof e?e.querySelector(t):f(te(),e)}function x(e,t){return"string"!=typeof e?e.querySelectorAll(t):x(te(),e)}function b(){return window}function _(e,t){e=w(e),t?b().setTimeout(function(){_(e),e=null},t):u(e).removeChild(e)}function ce(e){return e instanceof Element?e:null}function z(e){return e instanceof HTMLElement?e:null}function J(e){return"string"==typeof e?e:null}function p(e){return e instanceof Element||e instanceof Document||e instanceof DocumentFragment?e:null}function K(e,t,n){(e=ce(w(e)))&&(n?b().setTimeout(function(){K(e,t),e=null},n):e.classList&&e.classList.add(t))}function G(e,t,n){let o=ce(w(e));o&&(n?b().setTimeout(function(){G(o,t),o=null},n):o.classList&&(o.classList.remove(t),0===o.classList.length&&o.removeAttribute("class")))}function W(e,t){(e=w(e)).classList.toggle(t)}function Z(e,t){ie((e=w(e)).parentElement.children,function(e){G(e,t)}),K(ce(e),t)}function g(e,t){return(e=ce(w(e)))?e.closest(t):null}function l(e,t){return e.substring(0,t.length)===t}function Y(e,t){return e.substring(e.length-t.length)===t}function pe(e){const t=e.trim();return l(t,"<")&&Y(t,"/>")?t.substring(1,t.length-2):t}function m(e,t,n){if(0===t.indexOf("global "))return m(e,t.slice(7),!0);e=w(e);const o=[];{let e=0,n=0;for(let r=0;r<t.length;r++){const i=t[r];","!==i||0!==e?"<"===i?e++:"/"===i&&r<t.length-1&&">"===t[r+1]&&e--:(o.push(t.substring(n,r)),n=r+1)}n<t.length&&o.push(t.substring(n))}const r=[],i=[];for(;o.length>0;){const t=pe(o.shift());let s;0===t.indexOf("closest ")?s=g(ce(e),pe(t.slice(8))):0===t.indexOf("find ")?s=f(p(e),pe(t.slice(5))):"next"===t||"nextElementSibling"===t?s=ce(e).nextElementSibling:0===t.indexOf("next ")?s=ge(e,pe(t.slice(5)),!!n):"previous"===t||"previousElementSibling"===t?s=ce(e).previousElementSibling:0===t.indexOf("previous ")?s=me(e,pe(t.slice(9)),!!n):"document"===t?s=document:"window"===t?s=window:"body"===t?s=document.body:"root"===t?s=y(e,!!n):"host"===t?s=e.getRootNode().host:i.push(t),s&&r.push(s)}if(i.length>0){const t=i.join(","),o=p(y(e,!!n));r.push(...M(o.querySelectorAll(t)))}return r}var ge=function(e,t,n){const o=p(y(e,n)).querySelectorAll(t);for(let t=0;t<o.length;t++){const n=o[t];if(n.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return n}},me=function(e,t,n){const o=p(y(e,n)).querySelectorAll(t);for(let t=o.length-1;t>=0;t--){const n=o[t];if(n.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return n}};function ue(e,t){return"string"!=typeof e?m(e,t)[0]:m(te().body,e)[0]}function w(e,t){return"string"==typeof e?f(p(t)||document,e):e}function ye(e,t,n,o){return P(t)?{target:te().body,event:J(e),listener:t,options:n}:{target:w(e),event:J(t),listener:n,options:o}}function xe(e,t,n,o){Gn(function(){const r=ye(e,t,n,o);r.target.addEventListener(r.event,r.listener,r.options)});return P(t)?t:n}function be(e,t,n){return Gn(function(){const o=ye(e,t,n);o.target.removeEventListener(o.event,o.listener)}),P(t)?t:n}const ve=te().createElement("output");function we(e,t){const n=ne(e,t);if(n){if("this"===n)return[Se(e,t)];{const o=m(e,n);if(/(^|,)(\s*)inherit(\s*)($|,)/.test(n)){const n=ce(q(e,function(n){return n!==e&&s(ce(n),t)}));n&&o.push(...we(n,t))}return 0===o.length?(H('The selector "'+n+'" on '+t+" returned no matches!"),[ve]):o}}}function Se(e,t){return ce(q(e,function(e){return null!=a(ce(e),t)}))}function Ee(e){const t=ne(e,"hx-target");if(t)return"this"===t?Se(e,"hx-target"):ue(e,t);return oe(e).boosted?te().body:e}function Ce(e){return Q.config.attributesToSettle.includes(e)}function Oe(e,t){ie(Array.from(e.attributes),function(n){!t.hasAttribute(n.name)&&Ce(n.name)&&e.removeAttribute(n.name)}),ie(t.attributes,function(t){Ce(t.name)&&e.setAttribute(t.name,t.value)})}function He(e,t){const n=Jn(t);for(let o=0;o<n.length;o++){const r=n[o];try{if(r.isInlineSwap(e))return!0}catch(t){H(t)}}return"outerHTML"===e}function Te(e,t,n,o){o=o||te();let r="#"+CSS.escape(ee(t,"id")),i="outerHTML";"true"===e||(e.indexOf(":")>0?(i=e.substring(0,e.indexOf(":")),r=e.substring(e.indexOf(":")+1)):i=e),t.removeAttribute("hx-swap-oob"),t.removeAttribute("data-hx-swap-oob");const s=m(o,r,!1);return s.length?(ie(s,function(e){let o;const r=t.cloneNode(!0);o=te().createDocumentFragment(),o.appendChild(r),He(i,e)||(o=p(r));const s={shouldSwap:!0,target:e,fragment:o};ae(e,"htmx:oobBeforeSwap",s)&&(e=s.target,s.shouldSwap&&(qe(o),$e(i,e,e,o,n),Re()),ie(n.elts,function(e){ae(e,"htmx:oobAfterSwap",s)}))}),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),fe(te().body,"htmx:oobErrorNoTarget",{content:t})),e}function Re(){const e=f("#--htmx-preserve-pantry--");if(e){for(const t of[...e.children]){const e=f("#"+t.id);e.parentNode.moveBefore(t,e),e.remove()}e.remove()}}function qe(e){ie(x(e,"[hx-preserve], [data-hx-preserve]"),function(e){const t=a(e,"id"),n=te().getElementById(t);if(null!=n)if(e.moveBefore){let e=f("#--htmx-preserve-pantry--");null==e&&(te().body.insertAdjacentHTML("afterend","<div id='--htmx-preserve-pantry--'></div>"),e=f("#--htmx-preserve-pantry--")),e.moveBefore(n,null)}else e.parentNode.replaceChild(n,e)})}function Ae(e,t,n){ie(t.querySelectorAll("[id]"),function(t){const o=ee(t,"id");if(o&&o.length>0){const r=o.replace("'","\\'"),i=t.tagName.replace(":","\\:"),s=p(e),a=s&&s.querySelector(i+"[id='"+r+"']");if(a&&a!==s){const e=t.cloneNode();Oe(t,a),n.tasks.push(function(){Oe(t,e)})}}})}function Le(e){return function(){G(e,Q.config.addedClass),Ft(ce(e)),Ne(p(e)),ae(e,"htmx:load")}}function Ne(e){const t="[autofocus]",n=z(h(e,t)?e:e.querySelector(t));null!=n&&n.focus()}function c(e,t,n,o){for(Ae(e,n,o);n.childNodes.length>0;){const r=n.firstChild;K(ce(r),Q.config.addedClass),e.insertBefore(r,t),r.nodeType!==Node.TEXT_NODE&&r.nodeType!==Node.COMMENT_NODE&&o.tasks.push(Le(r))}}function Ie(e,t){let n=0;for(;n<e.length;)t=(t<<5)-t+e.charCodeAt(n++)|0;return t}function De(e){let t=0;for(let n=0;n<e.attributes.length;n++){const o=e.attributes[n];o.value&&(t=Ie(o.name,t),t=Ie(o.value,t))}return t}function Pe(e){const t=oe(e);if(t.onHandlers){for(let n=0;n<t.onHandlers.length;n++){const o=t.onHandlers[n];be(e,o.event,o.listener)}delete t.onHandlers}}function ke(e){const t=oe(e);t.timeout&&clearTimeout(t.timeout),t.listenerInfos&&ie(t.listenerInfos,function(e){e.on&&be(e.on,e.trigger,e.listener)}),Pe(e),ie(Object.keys(t),function(e){"firstInitCompleted"!==e&&delete t[e]})}function S(e){ae(e,"htmx:beforeCleanupElement"),ke(e),ie(e.children,function(e){S(e)})}function Me(e,t,n){if("BODY"===e.tagName)return je(e,t,n);let o;const r=e.previousSibling,i=u(e);if(i){for(c(i,e,t,n),o=null==r?i.firstChild:r.nextSibling,n.elts=n.elts.filter(function(t){return t!==e});o&&o!==e;)o instanceof Element&&n.elts.push(o),o=o.nextSibling;S(e),e.remove()}}function Fe(e,t,n){return c(e,e.firstChild,t,n)}function Be(e,t,n){return c(u(e),e,t,n)}function Xe(e,t,n){return c(e,null,t,n)}function Ue(e,t,n){return c(u(e),e.nextSibling,t,n)}function Ve(e){S(e);const t=u(e);if(t)return t.removeChild(e)}function je(e,t,n){const o=e.firstChild;if(c(e,o,t,n),o){for(;o.nextSibling;)S(o.nextSibling),e.removeChild(o.nextSibling);S(o),e.removeChild(o)}}function $e(e,t,n,o,r){switch(e){case"none":return;case"outerHTML":return void Me(n,o,r);case"afterbegin":return void Fe(n,o,r);case"beforebegin":return void Be(n,o,r);case"beforeend":return void Xe(n,o,r);case"afterend":return void Ue(n,o,r);case"delete":return void Ve(n);default:var i=Jn(t);for(let s=0;s<i.length;s++){const a=i[s];try{const t=a.handleSwap(e,n,o,r);if(t){if(Array.isArray(t))for(let e=0;e<t.length;e++){const n=t[e];n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.COMMENT_NODE&&r.tasks.push(Le(n))}return}}catch(t){H(t)}}"innerHTML"===e?je(n,o,r):$e(Q.config.defaultSwapStyle,t,n,o,r)}}function _e(e,t,n){var o=x(e,"[hx-swap-oob], [data-hx-swap-oob]");return ie(o,function(e){if(Q.config.allowNestedOobSwaps||null===e.parentElement){const o=a(e,"hx-swap-oob");null!=o&&Te(o,e,t,n)}else e.removeAttribute("hx-swap-oob"),e.removeAttribute("data-hx-swap-oob")}),o.length>0}function ze(e,t,n,o){o||(o={});let r=null,i=null,s=function(){re(o.beforeSwapCallback),e=w(e);const i=o.contextElement?y(o.contextElement,!1):te(),s=document.activeElement;let a={};a={elt:s,start:s?s.selectionStart:null,end:s?s.selectionEnd:null};const l=Sn(e);if("textContent"===n.swapStyle)e.textContent=t;else{let r=D(t);if(l.title=o.title||r.title,o.historyRequest&&(r=r.querySelector("[hx-history-elt],[data-hx-history-elt]")||r),o.selectOOB){const e=o.selectOOB.split(",");for(let t=0;t<e.length;t++){const n=e[t].split(":",2);let o=n[0].trim();0===o.indexOf("#")&&(o=o.substring(1));const s=n[1]||"true",a=r.querySelector("#"+o);a&&Te(s,a,l,i)}}if(_e(r,l,i),ie(x(r,"template"),function(e){e.content&&_e(e.content,l,i)&&e.remove()}),o.select){const e=te().createDocumentFragment();ie(r.querySelectorAll(o.select),function(t){e.appendChild(t)}),r=e}qe(r),$e(n.swapStyle,o.contextElement,e,r,l),Re()}if(a.elt&&!se(a.elt)&&ee(a.elt,"id")){const e=document.getElementById(ee(a.elt,"id")),t={preventScroll:void 0!==n.focusScroll?!n.focusScroll:!Q.config.defaultFocusScroll};if(e){if(a.start&&e.setSelectionRange)try{e.setSelectionRange(a.start,a.end)}catch(s){}e.focus(t)}}e.classList.remove(Q.config.swappingClass),ie(l.elts,function(e){e.classList&&e.classList.add(Q.config.settlingClass),ae(e,"htmx:afterSwap",o.eventInfo)}),re(o.afterSwapCallback),n.ignoreTitle||Xn(l.title);const c=function(){if(ie(l.tasks,function(e){e.call()}),ie(l.elts,function(e){e.classList&&e.classList.remove(Q.config.settlingClass),ae(e,"htmx:afterSettle",o.eventInfo)}),o.anchor){const e=ce(w("#"+o.anchor));e&&e.scrollIntoView({block:"start",behavior:"auto"})}En(l.elts,n),re(o.afterSettleCallback),re(r)};n.settleDelay>0?b().setTimeout(c,n.settleDelay):c()},a=Q.config.globalViewTransitions;n.hasOwnProperty("transition")&&(a=n.transition);const l=o.contextElement||te();if(a&&ae(l,"htmx:beforeTransition",o.eventInfo)&&"undefined"!=typeof Promise&&document.startViewTransition){const e=new Promise(function(e,t){r=e,i=t}),t=s;s=function(){document.startViewTransition(function(){return t(),e})}}try{n?.swapDelay&&n.swapDelay>0?b().setTimeout(s,n.swapDelay):s()}catch(s){throw fe(l,"htmx:swapError",o.eventInfo),re(i),s}}function Je(e,t,n){const o=e.getResponseHeader(t);if(0===o.indexOf("{")){const e=v(o);for(const t in e)if(e.hasOwnProperty(t)){let o=e[t];k(o)?n=void 0!==o.target?o.target:n:o={value:o},ae(n,t,o)}}else{const e=o.split(",");for(let t=0;t<e.length;t++)ae(n,e[t].trim(),[])}}const Ke=/\s/,E=/[\s,]/,Ge=/[_$a-zA-Z]/,We=/[_$a-zA-Z0-9]/,Ze=['"',"'","/"],C=/[^\s]/,Ye=/[{(]/,Qe=/[})]/;function et(e){const t=[];let n=0;for(;n<e.length;){if(Ge.exec(e.charAt(n))){for(var o=n;We.exec(e.charAt(n+1));)n++;t.push(e.substring(o,n+1))}else if(-1!==Ze.indexOf(e.charAt(n))){const r=e.charAt(n);o=n;for(n++;n<e.length&&e.charAt(n)!==r;)"\\"===e.charAt(n)&&n++,n++;t.push(e.substring(o,n+1))}else{const o=e.charAt(n);t.push(o)}n++}return t}function tt(e,t,n){return Ge.exec(e.charAt(0))&&"true"!==e&&"false"!==e&&"this"!==e&&e!==n&&"."!==t}function nt(e,t,n){if("["===t[0]){t.shift();let o=1,r=" return (function("+n+"){ return (",i=null;for(;t.length>0;){const s=t[0];if("]"===s){if(o--,0===o){null===i&&(r+="true"),t.shift(),r+=")})";try{const t=On(e,function(){return Function(r)()},function(){return!0});return t.source=r,t}catch(e){return fe(te().body,"htmx:syntax:error",{error:e,source:r}),null}}}else"["===s&&o++;tt(s,i,n)?r+="(("+n+"."+s+") ? ("+n+"."+s+") : (window."+s+"))":r+=s,i=t.shift()}}}function O(e,t){let n="";for(;e.length>0&&!t.test(e[0]);)n+=e.shift();return n}function rt(e){let t;return e.length>0&&Ye.test(e[0])?(e.shift(),t=O(e,Qe).trim(),e.shift()):t=O(e,E),t}const ot="input, textarea, select";function it(e,t,n){const o=[],r=et(t);do{O(r,C);const t=r.length,n=O(r,/[,\[\s]/);if(""!==n)if("every"===n){const t={trigger:"every"};O(r,C),t.pollInterval=d(O(r,/[,\[\s]/)),O(r,C),(i=nt(e,r,"event"))&&(t.eventFilter=i),o.push(t)}else{const t={trigger:n};var i;for((i=nt(e,r,"event"))&&(t.eventFilter=i),O(r,C);r.length>0&&","!==r[0];){const n=r.shift();if("changed"===n)t.changed=!0;else if("once"===n)t.once=!0;else if("consume"===n)t.consume=!0;else if("delay"===n&&":"===r[0])r.shift(),t.delay=d(O(r,E));else if("from"===n&&":"===r[0]){if(r.shift(),Ye.test(r[0]))var s=rt(r);else if("closest"===(s=O(r,E))||"find"===s||"next"===s||"previous"===s){r.shift();const e=rt(r);e.length>0&&(s+=" "+e)}t.from=s}else"target"===n&&":"===r[0]?(r.shift(),t.target=rt(r)):"throttle"===n&&":"===r[0]?(r.shift(),t.throttle=d(O(r,E))):"queue"===n&&":"===r[0]?(r.shift(),t.queue=O(r,E)):"root"===n&&":"===r[0]?(r.shift(),t[n]=rt(r)):"threshold"===n&&":"===r[0]?(r.shift(),t[n]=O(r,E)):fe(e,"htmx:syntax:error",{token:r.shift()});O(r,C)}o.push(t)}r.length===t&&fe(e,"htmx:syntax:error",{token:r.shift()}),O(r,C)}while(","===r[0]&&r.shift());return n&&(n[t]=o),o}function st(e){const t=a(e,"hx-trigger");let n=[];if(t){const o=Q.config.triggerSpecsCache;n=o&&o[t]||it(e,t,o)}return n.length>0?n:h(e,"form")?[{trigger:"submit"}]:h(e,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:h(e,ot)?[{trigger:"change"}]:[{trigger:"click"}]}function lt(e){oe(e).cancelled=!0}function ct(e,t,n){const o=oe(e);o.timeout=b().setTimeout(function(){se(e)&&!0!==o.cancelled&&(pt(n,e,Xt("hx:poll:trigger",{triggerSpec:n,target:e}))||t(e),ct(e,t,n))},n.pollInterval)}function ut(e){return location.hostname===e.hostname&&ee(e,"href")&&0!==ee(e,"href").indexOf("#")}function ft(e){return g(e,Q.config.disableSelector)}function at(e,t,n){if(e instanceof HTMLAnchorElement&&ut(e)&&(""===e.target||"_self"===e.target)||"FORM"===e.tagName&&"dialog"!==String(ee(e,"method")).toLowerCase()){let o,r;if(t.boosted=!0,"A"===e.tagName)o="get",r=ee(e,"href");else{const t=ee(e,"method");o=t?t.toLowerCase():"get",r=ee(e,"action"),null!=r&&""!==r||(r=location.href),"get"===o&&r.includes("?")&&(r=r.replace(/\?[^#]+/,""))}n.forEach(function(n){gt(e,function(e,t){const n=ce(e);ft(n)?S(n):he(o,r,n,t)},t,n,!0)})}}function ht(e,t){if("submit"===e.type&&"FORM"===t.tagName)return!0;if("click"===e.type){const e=t.closest('input[type="submit"], button');if(e&&e.form&&"submit"===e.type)return!0;const n=t.closest("a"),o=/^#.+/;if(n&&n.href&&!o.test(n.getAttribute("href")))return!0}return!1}function dt(e,t){return oe(e).boosted&&e instanceof HTMLAnchorElement&&"click"===t.type&&(t.ctrlKey||t.metaKey)}function pt(e,t,n){const o=e.eventFilter;if(o)try{return!0!==o.call(t,n)}catch(e){const t=o.source;return fe(te().body,"htmx:eventFilter:error",{error:e,source:t}),!0}return!1}function gt(e,t,n,o,r){const i=oe(e);let s;s=o.from?m(e,o.from):[e],o.changed&&("lastValue"in i||(i.lastValue=new WeakMap),s.forEach(function(e){i.lastValue.has(o)||i.lastValue.set(o,new WeakMap),i.lastValue.get(o).set(e,e.value)})),ie(s,function(s){const a=function(n){if(!se(e))return void s.removeEventListener(o.trigger,a);if(dt(e,n))return;if((r||ht(n,s))&&n.preventDefault(),pt(o,e,n))return;const l=oe(n);if(l.triggerSpec=o,null==l.handledFor&&(l.handledFor=[]),l.handledFor.indexOf(e)<0){if(l.handledFor.push(e),o.consume&&n.stopPropagation(),o.target&&n.target&&!h(ce(n.target),o.target))return;if(o.once){if(i.triggeredOnce)return;i.triggeredOnce=!0}if(o.changed){const e=n.target,t=e.value,r=i.lastValue.get(o);if(r.has(e)&&r.get(e)===t)return;r.set(e,t)}if(i.delayed&&clearTimeout(i.delayed),i.throttle)return;o.throttle>0?i.throttle||(ae(e,"htmx:trigger"),t(e,n),i.throttle=b().setTimeout(function(){i.throttle=null},o.throttle)):o.delay>0?i.delayed=b().setTimeout(function(){ae(e,"htmx:trigger"),t(e,n)},o.delay):(ae(e,"htmx:trigger"),t(e,n))}};null==n.listenerInfos&&(n.listenerInfos=[]),n.listenerInfos.push({trigger:o.trigger,listener:a,on:s}),s.addEventListener(o.trigger,a)})}let mt=!1,yt=null;function xt(){yt||(yt=function(){mt=!0},window.addEventListener("scroll",yt),window.addEventListener("resize",yt),setInterval(function(){mt&&(mt=!1,ie(te().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(e){bt(e)}))},200))}function bt(e){if(!s(e,"data-hx-revealed")&&F(e)){e.setAttribute("data-hx-revealed","true");oe(e).initHash?ae(e,"revealed"):e.addEventListener("htmx:afterProcessNode",function(){ae(e,"revealed")},{once:!0})}}function vt(e,t,n,o){const r=function(){n.loaded||(n.loaded=!0,ae(e,"htmx:trigger"),t(e))};o>0?b().setTimeout(r,o):r()}function wt(e,t,n){let o=!1;return ie(de,function(r){if(s(e,"hx-"+r)){const i=a(e,"hx-"+r);o=!0,t.path=i,t.verb=r,n.forEach(function(n){St(e,n,t,function(e,t){const n=ce(e);ft(n)?S(n):he(r,i,n,t)})})}}),o}function St(e,t,n,o){if("revealed"===t.trigger)xt(),gt(e,o,n,t),bt(ce(e));else if("intersect"===t.trigger){const r={};t.root&&(r.root=ue(e,t.root)),t.threshold&&(r.threshold=parseFloat(t.threshold));const i=new IntersectionObserver(function(t){for(let n=0;n<t.length;n++){if(t[n].isIntersecting){ae(e,"intersect");break}}},r);i.observe(ce(e)),gt(ce(e),o,n,t)}else n.firstInitCompleted||"load"!==t.trigger?t.pollInterval>0?(n.polling=!0,ct(ce(e),o,t)):gt(e,o,n,t):pt(t,e,Xt("load",{elt:e}))||vt(ce(e),o,n,t.delay)}function Et(e){const t=ce(e);if(!t)return!1;const n=t.attributes;for(let e=0;e<n.length;e++){const t=n[e].name;if(l(t,"hx-on:")||l(t,"data-hx-on:")||l(t,"hx-on-")||l(t,"data-hx-on-"))return!0}return!1}const Ct=(new XPathEvaluator).createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function Ot(e,t){Et(e)&&t.push(ce(e));const n=Ct.evaluate(e);let o=null;for(;o=n.iterateNext();)t.push(ce(o))}function Ht(e){const t=[];if(e instanceof DocumentFragment)for(const n of e.childNodes)Ot(n,t);else Ot(e,t);return t}function Tt(e){if(e.querySelectorAll){const n=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",o=[];for(const e in jn){const n=jn[e];if(n.getSelectors){var t=n.getSelectors();t&&o.push(t)}}return e.querySelectorAll(R+n+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+o.flat().map(e=>", "+e).join(""))}return[]}function Rt(e){const t=At(e.target),n=Nt(e);n&&(n.lastButtonClicked=t)}function qt(e){const t=Nt(e);t&&(t.lastButtonClicked=null)}function At(e){return g(ce(e),"button, input[type='submit']")}function Lt(e){return e.form||g(e,"form")}function Nt(e){const t=At(e.target);if(!t)return;const n=Lt(t);return n?oe(n):void 0}function It(e){e.addEventListener("click",Rt),e.addEventListener("focusin",Rt),e.addEventListener("focusout",qt)}function Dt(e,t,n){const o=oe(e);let r;Array.isArray(o.onHandlers)||(o.onHandlers=[]);const i=function(t){On(e,function(){ft(e)||(r||(r=new Function("event",n)),r.call(e,t))})};e.addEventListener(t,i),o.onHandlers.push({event:t,listener:i})}function Pt(e){Pe(e);for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name,o=e.attributes[t].value;if(l(n,"hx-on")||l(n,"data-hx-on")){const t=n.indexOf("-on")+3,r=n.slice(t,t+1);if("-"===r||":"===r){let r=n.slice(t+1);l(r,":")?r="htmx"+r:l(r,"-")?r="htmx:"+r.slice(1):l(r,"htmx-")&&(r="htmx:"+r.slice(5)),Dt(e,r,o)}}}}function kt(e){ae(e,"htmx:beforeProcessNode");const t=oe(e),n=st(e);wt(e,t,n)||("true"===ne(e,"hx-boost")?at(e,t,n):s(e,"hx-trigger")&&n.forEach(function(n){St(e,n,t,function(){})})),("FORM"===e.tagName||"submit"===ee(e,"type")&&s(e,"form"))&&It(e),t.firstInitCompleted=!0,ae(e,"htmx:afterProcessNode")}function Mt(e){if(!(e instanceof Element))return!1;const t=oe(e),n=De(e);return t.initHash!==n&&(ke(e),t.initHash=n,!0)}function Ft(e){if(ft(e=w(e)))return void S(e);const t=[];Mt(e)&&t.push(e),ie(Tt(e),function(e){ft(e)?S(e):Mt(e)&&t.push(e)}),ie(Ht(e),Pt),ie(t,kt)}function Bt(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Xt(e,t){return new CustomEvent(e,{bubbles:!0,cancelable:!0,composed:!0,detail:t})}function fe(e,t,n){ae(e,t,le({error:t},n))}function Ut(e){return"htmx:afterProcessNode"===e}function Vt(e,t,n){ie(Jn(e,[],n),function(e){try{t(e)}catch(e){H(e)}})}function H(e){console.error(e)}function ae(e,t,n){e=w(e),null==n&&(n={}),n.elt=e;const o=Xt(t,n);Q.logger&&!Ut(t)&&Q.logger(e,t,n),n.error&&(H(n.error),ae(e,"htmx:error",{errorInfo:n}));let r=e.dispatchEvent(o);const i=Bt(t);if(r&&i!==t){const t=Xt(i,o.detail);r=r&&e.dispatchEvent(t)}return Vt(ce(e),function(e){r=r&&!1!==e.onEvent(t,o)&&!o.defaultPrevented}),r}let jt;function $t(e){jt=e,X()&&sessionStorage.setItem("htmx-current-path-for-history",e)}function _t(){return te().querySelector("[hx-history-elt],[data-hx-history-elt]")||te().body}function zt(e,t){if(!X())return;const n=Kt(t),o=te().title,r=window.scrollY;if(Q.config.historyCacheSize<=0)return void sessionStorage.removeItem("htmx-history-cache");e=U(e);const i=v(sessionStorage.getItem("htmx-history-cache"))||[];for(let t=0;t<i.length;t++)if(i[t].url===e){i.splice(t,1);break}const s={url:e,content:n,title:o,scroll:r};for(ae(te().body,"htmx:historyItemCreated",{item:s,cache:i}),i.push(s);i.length>Q.config.historyCacheSize;)i.shift();for(;i.length>0;)try{sessionStorage.setItem("htmx-history-cache",JSON.stringify(i));break}catch(t){fe(te().body,"htmx:historyCacheError",{cause:t,cache:i}),i.shift()}}function Jt(e){if(!X())return null;e=U(e);const t=v(sessionStorage.getItem("htmx-history-cache"))||[];for(let n=0;n<t.length;n++)if(t[n].url===e)return t[n];return null}function Kt(e){const t=Q.config.requestClass,n=e.cloneNode(!0);return ie(x(n,"."+t),function(e){G(e,t)}),ie(x(n,"[data-disabled-by-htmx]"),function(e){e.removeAttribute("disabled")}),n.innerHTML}function Gt(){const e=_t();let t=jt;X()&&(t=sessionStorage.getItem("htmx-current-path-for-history")),t=t||location.pathname+location.search;te().querySelector('[hx-history="false" i],[data-hx-history="false" i]')||(ae(te().body,"htmx:beforeHistorySave",{path:t,historyElt:e}),zt(t,e)),Q.config.historyEnabled&&history.replaceState({htmx:!0},te().title,location.href)}function Wt(e){Q.config.getCacheBusterParam&&(Y(e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),"&")||Y(e,"?"))&&(e=e.slice(0,-1)),Q.config.historyEnabled&&history.pushState({htmx:!0},"",e),$t(e)}function Zt(e){Q.config.historyEnabled&&history.replaceState({htmx:!0},"",e),$t(e)}function Yt(e){ie(e,function(e){e.call(void 0)})}function Qt(e){const t=new XMLHttpRequest,n={swapStyle:"innerHTML",swapDelay:0,settleDelay:0},o={path:e,xhr:t,historyElt:_t(),swapSpec:n};t.open("GET",e,!0),Q.config.historyRestoreAsHxRequest&&t.setRequestHeader("HX-Request","true"),t.setRequestHeader("HX-History-Restore-Request","true"),t.setRequestHeader("HX-Current-URL",location.href),t.onload=function(){this.status>=200&&this.status<400?(o.response=this.response,ae(te().body,"htmx:historyCacheMissLoad",o),ze(o.historyElt,o.response,n,{contextElement:o.historyElt,historyRequest:!0}),$t(o.path),ae(te().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:o.response})):fe(te().body,"htmx:historyCacheMissLoadError",o)},ae(te().body,"htmx:historyCacheMiss",o)&&t.send()}function en(e){Gt();const t=Jt(e=e||location.pathname+location.search);if(t){const n={swapStyle:"innerHTML",swapDelay:0,settleDelay:0,scroll:t.scroll},o={path:e,item:t,historyElt:_t(),swapSpec:n};ae(te().body,"htmx:historyCacheHit",o)&&(ze(o.historyElt,t.content,n,{contextElement:o.historyElt,title:t.title}),$t(o.path),ae(te().body,"htmx:historyRestore",o))}else Q.config.refreshOnHistoryMiss?Q.location.reload(!0):Qt(e)}function tn(e){let t=we(e,"hx-indicator");return null==t&&(t=[e]),ie(t,function(e){const t=oe(e);t.requestCount=(t.requestCount||0)+1,e.classList.add.call(e.classList,Q.config.requestClass)}),t}function nn(e){let t=we(e,"hx-disabled-elt");return null==t&&(t=[]),ie(t,function(e){const t=oe(e);t.requestCount=(t.requestCount||0)+1,e.setAttribute("disabled",""),e.setAttribute("data-disabled-by-htmx","")}),t}function rn(e,t){ie(e.concat(t),function(e){const t=oe(e);t.requestCount=(t.requestCount||1)-1}),ie(e,function(e){0===oe(e).requestCount&&e.classList.remove.call(e.classList,Q.config.requestClass)}),ie(t,function(e){0===oe(e).requestCount&&(e.removeAttribute("disabled"),e.removeAttribute("data-disabled-by-htmx"))})}function on(e,t){for(let n=0;n<e.length;n++){if(e[n].isSameNode(t))return!0}return!1}function sn(e){const t=e;return""!==t.name&&null!=t.name&&!t.disabled&&!g(t,"fieldset[disabled]")&&("button"!==t.type&&"submit"!==t.type&&"image"!==t.tagName&&"reset"!==t.tagName&&"file"!==t.tagName&&("checkbox"!==t.type&&"radio"!==t.type||t.checked))}function ln(e,t,n){null!=e&&null!=t&&(Array.isArray(t)?t.forEach(function(t){n.append(e,t)}):n.append(e,t))}function cn(e,t,n){if(null!=e&&null!=t){let o=n.getAll(e);o=Array.isArray(t)?o.filter(e=>t.indexOf(e)<0):o.filter(e=>e!==t),n.delete(e),ie(o,t=>n.append(e,t))}}function un(e){return e instanceof HTMLSelectElement&&e.multiple?M(e.querySelectorAll("option:checked")).map(function(e){return e.value}):e instanceof HTMLInputElement&&e.files?M(e.files):e.value}function fn(e,t,n,o,r){if(null!=o&&!on(e,o)){if(e.push(o),sn(o)){ln(ee(o,"name"),un(o),t),r&&an(o,n)}o instanceof HTMLFormElement&&(ie(o.elements,function(o){e.indexOf(o)>=0?cn(o.name,un(o),t):e.push(o),r&&an(o,n)}),new FormData(o).forEach(function(e,n){e instanceof File&&""===e.name||ln(n,e,t)}))}}function an(e,t){const n=e;n.willValidate&&(ae(n,"htmx:validation:validate"),n.checkValidity()||(ae(n,"htmx:validation:failed",{message:n.validationMessage,validity:n.validity})&&!t.length&&Q.config.reportValidityOfForms&&n.reportValidity(),t.push({elt:n,message:n.validationMessage,validity:n.validity})))}function hn(e,t){for(const n of t.keys())e.delete(n);return t.forEach(function(t,n){e.append(n,t)}),e}function dn(e,t){const n=[],o=new FormData,r=new FormData,i=[],s=oe(e);s.lastButtonClicked&&!se(s.lastButtonClicked)&&(s.lastButtonClicked=null);let l=e instanceof HTMLFormElement&&!0!==e.noValidate||"true"===a(e,"hx-validate");if(s.lastButtonClicked&&(l=l&&!0!==s.lastButtonClicked.formNoValidate),"get"!==t&&fn(n,r,i,Lt(e),l),fn(n,o,i,e,l),s.lastButtonClicked||"BUTTON"===e.tagName||"INPUT"===e.tagName&&"submit"===ee(e,"type")){const t=s.lastButtonClicked||e;ln(ee(t,"name"),t.value,r)}return ie(we(e,"hx-include"),function(e){fn(n,o,i,ce(e),l),h(e,"form")||ie(p(e).querySelectorAll(ot),function(e){fn(n,o,i,e,l)})}),hn(o,r),{errors:i,formData:o,values:kn(o)}}function pn(e,t,n){""!==e&&(e+="&"),"[object Object]"===String(n)&&(n=JSON.stringify(n));const o=encodeURIComponent(n);return e+=encodeURIComponent(t)+"="+o}function gn(e){e=Dn(e);let t="";return e.forEach(function(e,n){t=pn(t,n,e)}),t}function mn(e,t,n){const o={"HX-Request":"true","HX-Trigger":ee(e,"id"),"HX-Trigger-Name":ee(e,"name"),"HX-Target":a(t,"id"),"HX-Current-URL":location.href};return Cn(e,"hx-headers",!1,o),void 0!==n&&(o["HX-Prompt"]=n),oe(e).boosted&&(o["HX-Boosted"]="true"),o}function yn(e,t){const n=ne(t,"hx-params");if(n){if("none"===n)return new FormData;if("*"===n)return e;if(0===n.indexOf("not "))return ie(n.slice(4).split(","),function(t){t=t.trim(),e.delete(t)}),e;{const t=new FormData;return ie(n.split(","),function(n){n=n.trim(),e.has(n)&&e.getAll(n).forEach(function(e){t.append(n,e)})}),t}}return e}function xn(e){return!!ee(e,"href")&&ee(e,"href").indexOf("#")>=0}function bn(e,t){const n=t||ne(e,"hx-swap"),o={swapStyle:oe(e).boosted?"innerHTML":Q.config.defaultSwapStyle,swapDelay:Q.config.defaultSwapDelay,settleDelay:Q.config.defaultSettleDelay};if(Q.config.scrollIntoViewOnBoost&&oe(e).boosted&&!xn(e)&&(o.show="top"),n){const e=B(n);if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];if(0===n.indexOf("swap:"))o.swapDelay=d(n.slice(5));else if(0===n.indexOf("settle:"))o.settleDelay=d(n.slice(7));else if(0===n.indexOf("transition:"))o.transition="true"===n.slice(11);else if(0===n.indexOf("ignoreTitle:"))o.ignoreTitle="true"===n.slice(12);else if(0===n.indexOf("scroll:")){const e=(i=n.slice(7).split(":")).pop();var r=i.length>0?i.join(":"):null;o.scroll=e,o.scrollTarget=r}else if(0===n.indexOf("show:")){var i;const e=(i=n.slice(5).split(":")).pop();r=i.length>0?i.join(":"):null;o.show=e,o.showTarget=r}else if(0===n.indexOf("focus-scroll:")){const e=n.slice(13);o.focusScroll="true"==e}else 0==t?o.swapStyle=n:H("Unknown modifier in hx-swap: "+n)}}return o}function vn(e){return"multipart/form-data"===ne(e,"hx-encoding")||h(e,"form")&&"multipart/form-data"===ee(e,"enctype")}function wn(e,t,n){let o=null;return Vt(t,function(r){null==o&&(o=r.encodeParameters(e,n,t))}),null!=o?o:vn(t)?hn(new FormData,Dn(n)):gn(n)}function Sn(e){return{tasks:[],elts:[e]}}function En(e,t){const n=e[0],o=e[e.length-1];if(t.scroll){var r=null;t.scrollTarget&&(r=ce(ue(n,t.scrollTarget))),"top"===t.scroll&&(n||r)&&((r=r||n).scrollTop=0),"bottom"===t.scroll&&(o||r)&&((r=r||o).scrollTop=r.scrollHeight),"number"==typeof t.scroll&&b().setTimeout(function(){window.scrollTo(0,t.scroll)},0)}if(t.show){r=null;if(t.showTarget){let e=t.showTarget;"window"===t.showTarget&&(e="body"),r=ce(ue(n,e))}"top"===t.show&&(n||r)&&(r=r||n).scrollIntoView({block:"start",behavior:Q.config.scrollBehavior}),"bottom"===t.show&&(o||r)&&(r=r||o).scrollIntoView({block:"end",behavior:Q.config.scrollBehavior})}}function Cn(e,t,n,o,r){if(null==o&&(o={}),null==e)return o;const i=a(e,t);if(i){let t,s=i.trim(),a=n;if("unset"===s)return null;0===s.indexOf("javascript:")?(s=s.slice(11),a=!0):0===s.indexOf("js:")&&(s=s.slice(3),a=!0),0!==s.indexOf("{")&&(s="{"+s+"}"),t=a?On(e,function(){return r?Function("event","return ("+s+")").call(e,r):Function("return ("+s+")").call(e)},{}):v(s);for(const e in t)t.hasOwnProperty(e)&&null==o[e]&&(o[e]=t[e])}return Cn(ce(u(e)),t,n,o,r)}function On(e,t,n){return Q.config.allowEval?t():(fe(e,"htmx:evalDisallowedError"),n)}function Hn(e,t,n){return Cn(e,"hx-vars",!0,n,t)}function Tn(e,t,n){return Cn(e,"hx-vals",!1,n,t)}function Rn(e,t){return le(Hn(e,t),Tn(e,t))}function qn(e,t,n){if(null!==n)try{e.setRequestHeader(t,n)}catch(o){e.setRequestHeader(t,encodeURIComponent(n)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function An(e){if(e.responseURL)try{const t=new URL(e.responseURL);return t.pathname+t.search}catch(t){fe(te().body,"htmx:badResponseUrl",{url:e.responseURL})}}function T(e,t){return t.test(e.getAllResponseHeaders())}function Ln(e,t,n){if(e=e.toLowerCase(),n){if(n instanceof Element||"string"==typeof n)return he(e,t,null,null,{targetOverride:w(n)||ve,returnPromise:!0});{let o=w(n.target);return(n.target&&!o||n.source&&!o&&!w(n.source))&&(o=ve),he(e,t,w(n.source),n.event,{handler:n.handler,headers:n.headers,values:n.values,targetOverride:o,swapOverride:n.swap,select:n.select,returnPromise:!0,push:n.push,replace:n.replace,selectOOB:n.selectOOB})}}return he(e,t,null,null,{returnPromise:!0})}function Nn(e){const t=[];for(;e;)t.push(e),e=e.parentElement;return t}function In(e,t,n){const o=new URL(t,"about:"!==location.protocol?location.href:window.origin),r=("about:"!==location.protocol?location.origin:window.origin)===o.origin;return!(Q.config.selfRequestsOnly&&!r)&&ae(e,"htmx:validateUrl",le({url:o,sameHost:r},n))}function Dn(e){if(e instanceof FormData)return e;const t=new FormData;for(const n in e)e.hasOwnProperty(n)&&(e[n]&&"function"==typeof e[n].forEach?e[n].forEach(function(e){t.append(n,e)}):"object"!=typeof e[n]||e[n]instanceof Blob?t.append(n,e[n]):t.append(n,JSON.stringify(e[n])));return t}function Pn(e,t,n){return new Proxy(n,{get:function(n,o){return"number"==typeof o?n[o]:"length"===o?n.length:"push"===o?function(o){n.push(o),e.append(t,o)}:"function"==typeof n[o]?function(){n[o].apply(n,arguments),e.delete(t),n.forEach(function(n){e.append(t,n)})}:n[o]&&1===n[o].length?n[o][0]:n[o]},set:function(n,o,r){return n[o]=r,e.delete(t),n.forEach(function(n){e.append(t,n)}),!0}})}function kn(e){return new Proxy(e,{get:function(t,n){if("symbol"==typeof n){const o=Reflect.get(t,n);return"function"==typeof o?function(){return o.apply(e,arguments)}:o}if("toJSON"===n)return()=>Object.fromEntries(e);if(n in t&&"function"==typeof t[n])return function(){return e[n].apply(e,arguments)};const o=e.getAll(n);return 0===o.length?void 0:1===o.length?o[0]:Pn(t,n,o)},set:function(e,t,n){return"string"==typeof t&&(e.delete(t),n&&"function"==typeof n.forEach?n.forEach(function(n){e.append(t,n)}):"object"!=typeof n||n instanceof Blob?e.append(t,n):e.append(t,JSON.stringify(n)),!0)},deleteProperty:function(e,t){return"string"==typeof t&&e.delete(t),!0},ownKeys:function(e){return Reflect.ownKeys(Object.fromEntries(e))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(e),t)}})}function he(e,t,n,o,r,i){let s=null,a=null;if((r=null!=r?r:{}).returnPromise&&"undefined"!=typeof Promise)var l=new Promise(function(e,t){s=e,a=t});null==n&&(n=te().body);const c=r.handler||Vn,u=r.select||null;if(!se(n))return re(s),l;const f=r.targetOverride||ce(Ee(n));if(null==f||f==ve)return fe(n,"htmx:targetError",{target:ne(n,"hx-target")}),re(a),l;let d=oe(n);const h=d.lastButtonClicked;if(h){const n=ee(h,"formaction");null!=n&&(t=n);const o=ee(h,"formmethod");if(null!=o){if(!de.includes(o.toLowerCase()))return re(s),l;e=o}}const m=ne(n,"hx-confirm");if(void 0===i){const i=function(i){return he(e,t,n,o,r,!!i)};if(!1===ae(n,"htmx:confirm",{target:f,elt:n,path:t,verb:e,triggeringEvent:o,etc:r,issueRequest:i,question:m}))return re(s),l}let p=n,g=ne(n,"hx-sync"),y=null,v=!1;if(g){const e=g.split(":"),t=e[0].trim();if(p="this"===t?Se(n,"hx-sync"):ce(ue(n,t)),g=(e[1]||"drop").trim(),d=oe(p),"drop"===g&&d.xhr&&!0!==d.abortable)return re(s),l;if("abort"===g){if(d.xhr)return re(s),l;v=!0}else if("replace"===g)ae(p,"htmx:abort");else if(0===g.indexOf("queue")){y=(g.split(" ")[1]||"last").trim()}}if(d.xhr){if(!d.abortable){if(null==y){if(o){const e=oe(o);e&&e.triggerSpec&&e.triggerSpec.queue&&(y=e.triggerSpec.queue)}null==y&&(y="last")}return null==d.queuedRequests&&(d.queuedRequests=[]),"first"===y&&0===d.queuedRequests.length||"all"===y?d.queuedRequests.push(function(){he(e,t,n,o,r)}):"last"===y&&(d.queuedRequests=[],d.queuedRequests.push(function(){he(e,t,n,o,r)})),re(s),l}ae(p,"htmx:abort")}const b=new XMLHttpRequest;d.xhr=b,d.abortable=v;const x=function(){if(d.xhr=null,d.abortable=!1,null!=d.queuedRequests&&d.queuedRequests.length>0){d.queuedRequests.shift()()}},w=ne(n,"hx-prompt");if(w){var S=prompt(w);if(null===S||!ae(n,"htmx:prompt",{prompt:S,target:f}))return re(s),x(),l}if(m&&!i&&!confirm(m))return re(s),x(),l;let E=mn(n,f,S);"get"===e||vn(n)||(E["Content-Type"]="application/x-www-form-urlencoded"),r.headers&&(E=le(E,r.headers));const C=dn(n,e);let T=C.errors;const I=C.formData;r.values&&hn(I,Dn(r.values));const O=hn(I,Dn(Rn(n,o)));let L=yn(O,n);Q.config.getCacheBusterParam&&"get"===e&&L.set("org.htmx.cache-buster",ee(f,"id")||"true"),null!=t&&""!==t||(t=location.href);const H=Cn(n,"hx-request"),A=oe(n).boosted;let R=Q.config.methodsThatUseUrlParams.indexOf(e)>=0;const q={boosted:A,useUrlParams:R,formData:L,parameters:kn(L),unfilteredFormData:O,unfilteredParameters:kn(O),headers:E,elt:n,target:f,verb:e,errors:T,withCredentials:r.credentials||H.credentials||Q.config.withCredentials,timeout:r.timeout||H.timeout||Q.config.timeout,path:t,triggeringEvent:o};if(!ae(n,"htmx:configRequest",q))return re(s),x(),l;if(t=q.path,e=q.verb,E=q.headers,L=Dn(q.parameters),T=q.errors,R=q.useUrlParams,T&&T.length>0)return ae(n,"htmx:validation:halted",q),re(s),x(),l;const N=t.split("#"),D=N[0],P=N[1];let M=t;if(R){M=D;!L.keys().next().done&&(M.indexOf("?")<0?M+="?":M+="&",M+=gn(L),P&&(M+="#"+P))}if(!In(n,M,q))return fe(n,"htmx:invalidPath",q),re(a),x(),l;if(b.open(e.toUpperCase(),M,!0),b.overrideMimeType("text/html"),b.withCredentials=q.withCredentials,b.timeout=q.timeout,H.noHeaders);else for(const e in E)if(E.hasOwnProperty(e)){const t=E[e];qn(b,e,t)}const k={xhr:b,target:f,requestConfig:q,etc:r,boosted:A,select:u,pathInfo:{requestPath:t,finalRequestPath:M,responsePath:null,anchor:P}};if(b.onload=function(){try{const e=Nn(n);if(k.pathInfo.responsePath=An(b),c(n,k),!0!==k.keepIndicators&&rn(F,B),ae(n,"htmx:afterRequest",k),ae(n,"htmx:afterOnLoad",k),!se(n)){let t=null;for(;e.length>0&&null==t;){const n=e.shift();se(n)&&(t=n)}t&&(ae(t,"htmx:afterRequest",k),ae(t,"htmx:afterOnLoad",k))}re(s)}catch(e){throw fe(n,"htmx:onLoadError",le({error:e},k)),e}finally{x()}},b.onerror=function(){rn(F,B),fe(n,"htmx:afterRequest",k),fe(n,"htmx:sendError",k),re(a),x()},b.onabort=function(){rn(F,B),fe(n,"htmx:afterRequest",k),fe(n,"htmx:sendAbort",k),re(a),x()},b.ontimeout=function(){rn(F,B),fe(n,"htmx:afterRequest",k),fe(n,"htmx:timeout",k),re(a),x()},!ae(n,"htmx:beforeRequest",k))return re(s),x(),l;var F=tn(n),B=nn(n);ie(["loadstart","loadend","progress","abort"],function(e){ie([b,b.upload],function(t){t.addEventListener(e,function(t){ae(n,"htmx:xhr:"+e,{lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total})})})}),ae(n,"htmx:beforeSend",k);const U=R?null:wn(b,n,L);return b.send(U),l}function Mn(e,t){const n=t.xhr;let o=null,r=null;if(T(n,/HX-Push:/i)?(o=n.getResponseHeader("HX-Push"),r="push"):T(n,/HX-Push-Url:/i)?(o=n.getResponseHeader("HX-Push-Url"),r="push"):T(n,/HX-Replace-Url:/i)&&(o=n.getResponseHeader("HX-Replace-Url"),r="replace"),o)return"false"===o?{}:{type:r,path:o};const i=t.pathInfo.finalRequestPath,s=t.pathInfo.responsePath,a=t.etc.push||ne(e,"hx-push-url"),l=t.etc.replace||ne(e,"hx-replace-url"),c=oe(e).boosted;let u=null,f=null;return a?(u="push",f=a):l?(u="replace",f=l):c&&(u="push",f=s||i),f?"false"===f?{}:("true"===f&&(f=s||i),t.pathInfo.anchor&&-1===f.indexOf("#")&&(f=f+"#"+t.pathInfo.anchor),{type:u,path:f}):{}}function Fn(e,t){return new RegExp(e.code).test(t.toString(10))}function Bn(e){for(var t=0;t<Q.config.responseHandling.length;t++){var n=Q.config.responseHandling[t];if(Fn(n,e.status))return n}return{swap:!1}}function Xn(e){if(e){const t=f("title");t?t.textContent=e:window.document.title=e}}function Un(e,t){if("this"===t)return e;const n=ce(ue(e,t));if(null==n)throw fe(e,"htmx:targetError",{target:t}),new Error(`Invalid re-target ${t}`);return n}function Vn(e,t){const n=t.xhr;let o=t.target;const r=t.etc,i=t.select;if(!ae(e,"htmx:beforeOnLoad",t))return;if(T(n,/HX-Trigger:/i)&&Je(n,"HX-Trigger",e),T(n,/HX-Location:/i)){let e=n.getResponseHeader("HX-Location");var s={};return 0===e.indexOf("{")&&(e=(s=v(e)).path,delete s.path),s.push=s.push||"true",void Ln("get",e,s)}const a=T(n,/HX-Refresh:/i)&&"true"===n.getResponseHeader("HX-Refresh");if(T(n,/HX-Redirect:/i))return t.keepIndicators=!0,Q.location.href=n.getResponseHeader("HX-Redirect"),void(a&&Q.location.reload());if(a)return t.keepIndicators=!0,void Q.location.reload();const l=Mn(e,t),c=Bn(n),u=c.swap;let f=!!c.error,d=Q.config.ignoreTitle||c.ignoreTitle,h=c.select;c.target&&(t.target=Un(e,c.target));var m=r.swapOverride;null==m&&c.swapOverride&&(m=c.swapOverride),T(n,/HX-Retarget:/i)&&(t.target=Un(e,n.getResponseHeader("HX-Retarget"))),T(n,/HX-Reswap:/i)&&(m=n.getResponseHeader("HX-Reswap"));var p=n.response,g=le({shouldSwap:u,serverResponse:p,isError:f,ignoreTitle:d,selectOverride:h,swapOverride:m},t);if((!c.event||ae(o,c.event,g))&&ae(o,"htmx:beforeSwap",g)){if(o=g.target,p=g.serverResponse,f=g.isError,d=g.ignoreTitle,h=g.selectOverride,m=g.swapOverride,t.target=o,t.failed=f,t.successful=!f,g.shouldSwap){286===n.status&&lt(e),Vt(e,function(t){p=t.transformResponse(p,n,e)}),l.type&&Gt();var y=bn(e,m);y.hasOwnProperty("ignoreTitle")||(y.ignoreTitle=d),o.classList.add(Q.config.swappingClass),i&&(h=i),T(n,/HX-Reselect:/i)&&(h=n.getResponseHeader("HX-Reselect"));const s=r.selectOOB||ne(e,"hx-select-oob"),a=ne(e,"hx-select");ze(o,p,y,{select:"unset"===h?null:h||a,selectOOB:s,eventInfo:t,anchor:t.pathInfo.anchor,contextElement:e,afterSwapCallback:function(){if(T(n,/HX-Trigger-After-Swap:/i)){let t=e;se(e)||(t=te().body),Je(n,"HX-Trigger-After-Swap",t)}},afterSettleCallback:function(){if(T(n,/HX-Trigger-After-Settle:/i)){let t=e;se(e)||(t=te().body),Je(n,"HX-Trigger-After-Settle",t)}},beforeSwapCallback:function(){l.type&&(ae(te().body,"htmx:beforeHistoryUpdate",le({history:l},t)),"push"===l.type?(Wt(l.path),ae(te().body,"htmx:pushedIntoHistory",{path:l.path})):(Zt(l.path),ae(te().body,"htmx:replacedInHistory",{path:l.path})))}})}f&&fe(e,"htmx:responseError",le({error:"Response Status Error Code "+n.status+" from "+t.pathInfo.requestPath},t))}}$t(location.pathname+location.search);const jn={};function $n(){return{init:function(e){return null},getSelectors:function(){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,n){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,n,o){return!1},encodeParameters:function(e,t,n){return null}}}function _n(e,t){t.init&&t.init(n),jn[e]=le($n(),t)}function zn(e){delete jn[e]}function Jn(e,t,n){if(null==t&&(t=[]),null==e)return t;null==n&&(n=[]);const o=a(e,"hx-ext");return o&&ie(o.split(","),function(e){if("ignore:"!=(e=e.replace(/ /g,"")).slice(0,7)){if(n.indexOf(e)<0){const n=jn[e];n&&t.indexOf(n)<0&&t.push(n)}}else n.push(e.slice(7))}),Jn(ce(u(e)),t,n)}var Kn=!1;function Gn(e){Kn||"complete"===te().readyState?e():te().addEventListener("DOMContentLoaded",e)}function Wn(){if(!1!==Q.config.includeIndicatorStyles){const e=Q.config.inlineStyleNonce?` nonce="${Q.config.inlineStyleNonce}"`:"",t=Q.config.indicatorClass,n=Q.config.requestClass;te().head.insertAdjacentHTML("beforeend",`<style${e}>.${t}{opacity:0;visibility: hidden} .${n} .${t}, .${n}.${t}{opacity:1;visibility: visible;transition: opacity 200ms ease-in}</style>`)}}function Zn(){const e=te().querySelector('meta[name="htmx-config"]');return e?v(e.content):null}function Yn(){const e=Zn();e&&(Q.config=le(Q.config,e))}return te().addEventListener("DOMContentLoaded",function(){Kn=!0}),Gn(function(){Yn(),Wn();let e=te().body;Ft(e);const t=te().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",function(e){const t=oe(e.detail.elt||e.target);t&&t.xhr&&t.xhr.abort()});const n=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(e){e.state&&e.state.htmx?(en(),ie(t,function(e){ae(e,"htmx:restored",{document:te(),triggerEvent:ae})})):n&&n(e)},b().setTimeout(function(){ae(e,"htmx:load",{}),e=null},0)}),Q}();!function(){function e(n){if(void 0!==n.preloadState)return;if(!function(e){const t=["href","hx-get","data-hx-get"],n=e=>t.some(t=>e.hasAttribute(t))||"get"===e.method,o=e.form instanceof HTMLFormElement&&n(e.form)&&l(e);if(!n(e)&&!o)return!1;if(e instanceof HTMLInputElement&&e.closest("label"))return!1;return!0}(n))return;if(n instanceof HTMLFormElement){const t=n;if(!(t.hasAttribute("method")&&"get"===t.method||t.hasAttribute("hx-get")||t.hasAttribute("hx-data-get")))return;for(let n=0;n<t.elements.length;n++){const o=t.elements.item(n);e(o),"labels"in o&&o.labels.forEach(e)}return}let o=a(n,"preload");n.preloadAlways=o&&o.includes("always"),n.preloadAlways&&(o=o.replace("always","").trim());let r=o||"mousedown";const i="mouseover"===r;n.addEventListener(r,t(n,i),{passive:!0}),"mousedown"!==r&&"mouseover"!==r||n.addEventListener("touchstart",t(n),{passive:!0}),"mouseover"===r&&n.addEventListener("mouseout",function(e){e.target===n&&"TIMEOUT"===n.preloadState&&(n.preloadState="READY")},{passive:!0}),n.preloadState="READY",htmx.trigger(n,"preload:init")}function t(e,t=!1){return function(){if("READY"===e.preloadState){if(t){e.preloadState="TIMEOUT";const t=100;return void window.setTimeout(function(){"TIMEOUT"===e.preloadState&&(e.preloadState="READY",n(e))},t)}n(e)}}}function n(e){if("READY"!==e.preloadState)return;e.preloadState="LOADING";const t=e.getAttribute("hx-get")||e.getAttribute("data-hx-get");if(t)return void r(t,e);const n="true"===a(e,"hx-boost");if(e.hasAttribute("href")){const t=e.getAttribute("href");return void(n?r(t,e):i(t,e))}if(l(e)){const t=e.form.getAttribute("action")||e.form.getAttribute("hx-get")||e.form.getAttribute("data-hx-get"),s=htmx.values(e.form),a=!(e.form.getAttribute("hx-get")||e.form.getAttribute("data-hx-get")||n)?i:r;if("submit"===e.type)return void a(t,e.form,s);const l=e.name||e.control.name;if("SELECT"===e.tagName)return void Array.from(e.options).forEach(n=>{if(n.selected)return;s.set(l,n.value);const r=o(e.form,s);a(t,e.form,r)});const c=e.getAttribute("type")||e.control.getAttribute("type"),u=e.value||e.control?.value;if("radio"===c)s.set(l,u);else if("checkbox"===c){const e=s.getAll(l);e.includes(u)?s[l]=e.filter(e=>e!==u):s.append(l,u)}const f=o(e.form,s);return void a(t,e.form,f)}}function o(e,t){const n=e.elements,o=new FormData;for(let e=0;e<n.length;e++){const r=n.item(e);t.has(r.name)&&"SELECT"===r.tagName?o.append(r.name,t.get(r.name)):t.has(r.name)&&t.getAll(r.name).includes(r.value)&&o.append(r.name,r.value)}return o}function r(e,t,n=void 0){htmx.ajax("GET",e,{source:t,values:n,headers:{"HX-Preloaded":"true"}})}function i(e,t,n=void 0){const o=new XMLHttpRequest;n&&(e+="?"+new URLSearchParams(n.entries()).toString()),o.open("GET",e),o.setRequestHeader("HX-Preloaded","true"),o.onload=function(){s(t,o.responseText)},o.send()}function s(e,t){e.preloadState=e.preloadAlways?"READY":"DONE","true"===a(e,"preload-images")&&(document.createElement("div").innerHTML=t)}function a(e,t){if(null!=e)return e.getAttribute(t)||e.getAttribute("data-"+t)||a(e.parentElement,t)}function l(e){if(e instanceof HTMLInputElement||e instanceof HTMLButtonElement){const t=e.getAttribute("type");return["checkbox","radio","submit"].includes(t)}return e instanceof HTMLLabelElement?e.control&&l(e.control):e instanceof HTMLSelectElement}htmx.defineExtension("preload",{onEvent:function(t,n){if("htmx:afterProcessNode"===t){const t=n.target||n.detail.elt;return void[...t.hasAttribute("preload")?[t]:[],...t.querySelectorAll("[preload]")].forEach(function(t){e(t),t.querySelectorAll("[href],[hx-get],[data-hx-get]").forEach(e)})}if("htmx:beforeRequest"===t){const e=n.detail.requestConfig.headers;if(!("HX-Preloaded"in e)||"true"!==e["HX-Preloaded"])return;n.preventDefault();const t=n.detail.xhr;t.onload=function(){s(n.detail.elt,t.responseText)},t.onerror=null,t.onabort=null,t.ontimeout=null,t.send()}}})}();
/**
 * Image Zoom - Standalone
 *
 * A lightweight image zoom library with keyboard navigation.
 * Click any image to zoom, use arrow keys to navigate, ESC to close.
 *
 * Features:
 * - Click to zoom in/out
 * - Keyboard navigation (←/→ arrows)
 * - ESC to close
 * - Wraps around image gallery
 * - Auto-injects required CSS
 * - Custom events for extensibility
 * - Configurable selectors
 *
 * @version @VERSION_PLACEHOLDER@
 * @license MIT
 * @author Your Name
 */
class ImageZoom{constructor(e={}){this.options={selector:"img:not([data-no-zoom])",zoomedClass:"zoomed",enableKeyboardNav:!0,enableCustomEvents:!0,...e},this.currentZoomedImage=null,this.images=[],this.init()}init(){this.bindClickEvents(),this.options.enableKeyboardNav&&this.bindKeyboardEvents(),this.dispatchEvent("initialized",{})}refreshImages(){return this.images=Array.from(document.querySelectorAll(this.options.selector)),this.images.length}bindClickEvents(){document.addEventListener("click",e=>{const t=e.target.closest(this.options.selector);t?(e.preventDefault(),e.stopPropagation(),this.toggle(t)):this.currentZoomedImage&&this.close()})}bindKeyboardEvents(){document.addEventListener("keydown",e=>{if(this.currentZoomedImage)switch(e.key){case"Escape":e.preventDefault(),this.close();break;case"ArrowLeft":case"ArrowUp":e.preventDefault(),this.navigate(-1);break;case"ArrowRight":case"ArrowDown":e.preventDefault(),this.navigate(1)}})}toggle(e){this.currentZoomedImage===e?this.close():this.open(e)}open(e){this.currentZoomedImage&&this.close(),e.classList.add(this.options.zoomedClass),this.currentZoomedImage=e,document.body.classList.add("image-zoomed"),this.dispatchEvent("open",{image:e})}close(){if(!this.currentZoomedImage)return;const e=this.currentZoomedImage;e.classList.remove(this.options.zoomedClass),this.currentZoomedImage=null,document.body.classList.remove("image-zoomed"),this.dispatchEvent("close",{image:e})}navigate(e){if(!this.currentZoomedImage)return;this.refreshImages();const t=this.images.indexOf(this.currentZoomedImage);if(-1===t)return;const n=(t+e+this.images.length)%this.images.length,o=this.images[n];o&&this.open(o)}dispatchEvent(e,t){this.options.enableCustomEvents&&"undefined"!=typeof CustomEvent&&document.dispatchEvent(new CustomEvent(`imagezoom:${e}`,{detail:{...t,timestamp:Date.now(),instance:this},bubbles:!0,cancelable:!0}))}updateOptions(e){if(this.options={...this.options,...e},void 0!==e.backdropOpacity){const e=document.getElementById("image-zoom-styles");e&&e.remove(),this.injectStyles()}this.dispatchEvent("optionsUpdated",{options:this.options})}getState(){return{isZoomed:!!this.currentZoomedImage,currentImage:this.currentZoomedImage,totalImages:this.refreshImages(),currentIndex:this.currentZoomedImage?this.images.indexOf(this.currentZoomedImage):-1}}destroy(){this.currentZoomedImage&&this.close();const e=document.getElementById("image-zoom-styles");e&&e.remove(),this.dispatchEvent("destroyed",{}),this.currentZoomedImage=null,this.images=[]}}if("undefined"!=typeof window){window.ImageZoom=ImageZoom;const e=()=>{window.imageZoom=new ImageZoom};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}"undefined"!=typeof module&&module.exports&&(module.exports={ImageZoom:ImageZoom}),"undefined"!=typeof exports&&(exports.ImageZoom=ImageZoom),document.body.addEventListener("htmx:beforeSwap",e=>{const t=(new DOMParser).parseFromString(e.detail.xhr.responseText,"text/html").documentElement.dataset.theme;document.documentElement.dataset.theme=t||"default"}),function(e){"use strict";class t{constructor(e={}){this.apiUrl=e.apiUrl||"/api/comments",this.pageId=e.pageId,this.container="string"==typeof e.container?document.querySelector(e.container):e.container||document.querySelector("#comments"),this.formSelector=e.form||"#comment-form",this.comments=[],this.loading=!1,this.pollInterval=e.pollInterval||null,this.pollTimer=null,this.onLoad=e.onLoad||null,this.onRender=e.onRender||null}async load(){if(!this.pageId)return console.error("GitHubComments: pageId is required"),[];this.loading=!0;try{const e=await fetch(`${this.apiUrl}?pageId=${encodeURIComponent(this.pageId)}`);if(!e.ok)throw new Error(`API error: ${e.status}`);const t=await e.json();if(this.comments=t.comments||[],this.loading=!1,"function"==typeof this.onLoad)try{this.onLoad(this.comments)}catch(e){}return this.comments}catch(e){return console.error("Error loading comments:",e),this.loading=!1,[]}}async submit(e){try{const t=await fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pageId:this.pageId,...e})});if(!t.ok){let e=`API error: ${t.status}`;try{e=(await t.json()).message||e}catch(n){e=`API endpoint not available (${t.status})`}throw new Error(e)}const n=await t.json();return n.comment&&(this.comments.push(n.comment),this.comments.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))),n}catch(e){throw console.error("Error submitting comment:",e),e}}formatTime(e){const t=new Date(e),n=new Date,o=Math.floor((n-t)/1e3);return o<60?"just now":o<3600?`${Math.floor(o/60)}m ago`:o<86400?`${Math.floor(o/3600)}h ago`:o<604800?`${Math.floor(o/86400)}d ago`:t.toLocaleDateString()}escapeHTML(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}formatContent(e){let t=this.escapeHTML(e);return t=t.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*(.+?)\*/g,"<em>$1</em>"),t=t.replace(/_(.+?)_/g,"<em>$1</em>"),t=t.replace(/```(.*?)```/gs,"<pre><code>$1</code></pre>"),t=t.replace(/`(.+?)`/g,"<code>$1</code>"),t=t.replace(/\[(.+?)\]\((.+?)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>'),t=t.replace(/\n/g,"<br>"),t}renderComment(e,t=0){const n=!1!==e.approved?"":' data-pending="true"',o=e.spam?' data-spam="true"':"";return`\n      <div class="comment" data-id="${this.escapeHTML(String(e.id))}" data-level="${t}"${n}${o}>\n        <div class="comment-header">\n          <span class="comment-author">${this.escapeHTML(e.author||"Anonymous")}</span>\n          <span class="comment-date">${this.formatTime(e.createdAt)}</span>\n          ${e.spam?'<span class="comment-flag">Flagged as spam</span>':""}\n          ${e.approved?"":'<span class="comment-pending">Awaiting moderation</span>'}\n        </div>\n        <div class="comment-content">\n          ${this.formatContent(e.content||"")}\n        </div>\n      </div>\n    `}buildCommentTree(){const e={},t=[];for(const t of this.comments)e[t.id]={...t,replies:[]};for(const n of this.comments)n.parentId&&e[n.parentId]?e[n.parentId].replies.push(e[n.id]):t.push(e[n.id]);return t}renderTree(e,t=0){return e.map(e=>{let n=this.renderComment(e,t);return e.replies&&e.replies.length>0&&(n+=`<div class="comment-replies">${this.renderTree(e.replies,t+1)}</div>`),n}).join("")}render(){if(!this.container)return void console.error("GitHubComments: container not found");if(0===this.comments.length)return void(this.container.innerHTML='<p class="comments-empty">No comments yet. Be the first to comment!</p>');const e=this.buildCommentTree();if(this.container.innerHTML=this.renderTree(e),this.attachReplyHandlers(),"function"==typeof this.onRender)try{this.onRender(this.container)}catch(e){}}attachReplyHandlers(){this.container&&this.container.querySelectorAll(".comment-reply").forEach(e=>{e.addEventListener("click",e=>{const t=e.target.dataset.parentId,n=document.querySelector(this.formSelector);if(n){const e=n.querySelector('[name="parentId"]');e&&(e.value=t),n.scrollIntoView({behavior:"smooth"})}})})}attachFormHandler(e=null){const t=document.querySelector(e||this.formSelector);if(t){if(t.removeAttribute("hx-boost"),t.setAttribute("hx-disable","true"),window.htmx){const n=t.cloneNode(!0);return t.parentNode.replaceChild(n,t),void document.querySelector(e||this.formSelector).addEventListener("submit",this._handleFormSubmit.bind(this))}t.addEventListener("submit",this._handleFormSubmit.bind(this))}else console.error("GitHubComments: form not found")}async _handleFormSubmit(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();const t=e.target,n=new FormData(t),o={author:n.get("author"),email:n.get("email"),content:n.get("content"),parentId:n.get("parentId")||null},r=t.querySelector("button[type=submit]"),i=r?r.textContent:"",s=t.querySelector("#form-status");try{r&&(r.disabled=!0,r.textContent="Submitting...",r.style.opacity="0.7"),s&&(s.style.display="block",s.textContent="Sending your comment...",s.style.color="var(--color-foreground, #000)");const e=await this.submit(o);s&&(s.textContent="Comment submitted successfully! It will appear after moderation.",s.style.color="var(--color-green, green)",setTimeout(()=>{s.style.display="none",s.textContent=""},6e3)),t.reset();const n=t.querySelector('[name="parentId"]');return n&&(n.value=""),this.render(),e}catch(e){throw s&&(s.textContent=`Error: ${e.message}`,s.style.color="var(--color-red, red)",s.style.display="block"),e}finally{r&&(r.disabled=!1,r.textContent=i,r.style.opacity="1")}}startPolling(){this.pollInterval&&(this.stopPolling(),this.pollTimer=setInterval(async()=>{const e=this.comments.length;await this.load(),this.comments.length>e&&this.render()},this.pollInterval))}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}}function n(e){if(!e||"string"!=typeof e)return"index";let t=e.trim();try{t=new URL(t,window.location.origin).pathname}catch(e){}return t=t.replace(/^\/+|\/+$/g,""),""===t?"index":(t=t.replace(/[\/]+/g,"_"),t=t.replace(/[^A-Za-z0-9_\-]/g,"_"),t)}let o=null,r={apiUrl:"/api/comments",containerSelector:"#comments",formSelector:"#comment-form",pollInterval:null,autoInit:!0,pageId:null,onLoad:null,onRender:null};const i={version:"@VERSION_PLACEHOLDER@",configure:(e={})=>(Object.assign(r,e||{}),r),getInstance:()=>o,createInstance(e={}){const i={apiUrl:r.apiUrl,container:e.container||r.containerSelector,form:e.formSelector||r.formSelector,pollInterval:null!=e.pollInterval?e.pollInterval:r.pollInterval,onLoad:e.onLoad||r.onLoad,onRender:e.onRender||r.onRender},a=e.pageId||r.pageId||s();return i.pageId=n(a||window.location.pathname),o=new t(i),o},async init(e={}){if("undefined"==typeof document)return null;if(o&&!e.recreate)return o;let t=e.container;t||(t=document.querySelector("[data-comments]")||document.querySelector(r.containerSelector)||r.containerSelector);const n=this.createInstance({...e,container:t});try{await n.load(),n.render()}catch(e){}try{n.attachFormHandler(e.formSelector||r.formSelector)}catch(e){}return n.pollInterval&&n.startPolling(),n},async load(){return o||await this.init(),o?o.load():[]},render(){if(o)return o.render();console.error("comments: not initialized (call comments.init())")},attachFormHandler(e){if(o)return o.attachFormHandler(e);console.error("comments: not initialized (call comments.init())")},submit:e=>o?o.submit(e):(console.error("comments: not initialized (call comments.init())"),Promise.reject(new Error("comments: not initialized"))),startPolling(){if(o)return o.startPolling();console.error("comments: not initialized (call comments.init())")},stopPolling(){if(o)return o.stopPolling()},getPageId:()=>o&&o.pageId?o.pageId:n(r.pageId||s()||("undefined"!=typeof window?window.location.pathname:"index"))};function s(){if("undefined"==typeof document)return null;const e=document.querySelector("[data-page-id]")||document.body,t=e&&e.getAttribute&&e.getAttribute("data-page-id");if(t)return t;const n=document.querySelector('meta[name="page-id"]');if(n&&n.content)return n.content;const o=document.querySelector('meta[property="og:url"]');if(o&&o.content)try{return new URL(o.content).pathname}catch(e){return o.content}const r=document.querySelector('link[rel="canonical"]');if(r&&r.href)try{return new URL(r.href).pathname}catch(e){return r.href}return null}try{!function(){if(!r.autoInit)return;if(o)return;if("undefined"==typeof document)return;const e=()=>{try{i.init().catch(()=>{})}catch(e){}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}()}catch(e){}"undefined"!=typeof module&&module.exports?module.exports=i:(e.comments=i,e.GitHubComments=t)}("undefined"!=typeof window?window:this),function(e){"use strict";const t={duration:4e3,position:"top-right",pauseOnHover:!0,showProgress:!0,closeButton:!1,maxToasts:5,animation:"slide",role:"status"},n={};let o=[],r=0;function i(e,i="info",a={}){const l={...t,...a};if(r>=l.maxToasts)return void o.push({message:e,type:i,options:l});const c=function(e){if(n[e])return n[e];const t=document.createElement("div");return t.className=`toast-container toast-container-${e}`,t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","false"),document.body.appendChild(t),n[e]=t,t}(l.position),u=function(e,t,n){const o=document.createElement("div");o.className=`toast toast-${t}`,o.setAttribute("role",n.role);const r=document.createElement("div");r.className="toast-content";const i=document.createElement("span");i.className="toast-icon",i.setAttribute("aria-hidden","true"),i.textContent=function(e){return{success:"✓",error:"✕",warning:"⚠",info:"ℹ"}[e]||"ℹ"}(t);const a=document.createElement("div");if(a.className="toast-message",a.textContent=e,r.appendChild(i),r.appendChild(a),n.closeButton){const e=document.createElement("button");e.className="toast-close",e.setAttribute("aria-label","Close notification"),e.innerHTML="×",e.addEventListener("click",()=>s(o)),r.appendChild(e)}if(o.appendChild(r),n.showProgress&&n.duration>0){const e=document.createElement("div");e.className="toast-progress",o.appendChild(e),o._progressBar=e}return o}(e,i,l);let f,d;c.appendChild(u),r++,u.offsetHeight,requestAnimationFrame(()=>{u.classList.add("toast-visible")});let h=l.duration;function m(){l.duration<=0||(d=Date.now(),f=setTimeout(()=>{s(u)},h),u._progressBar&&(u._progressBar.style.transition=`width ${h}ms linear`,u._progressBar.style.width="0%"))}l.pauseOnHover&&(u.addEventListener("mouseenter",function(){if(!(l.duration<=0)&&(clearTimeout(f),h-=Date.now()-d,u._progressBar)){const e=window.getComputedStyle(u._progressBar);u._progressBar.style.width=e.width,u._progressBar.style.transition="none"}}),u.addEventListener("mouseleave",m)),m();const p=e=>{"Escape"===e.key&&s(u)};return document.addEventListener("keydown",p),u._escapeHandler=p,u}function s(e){e.classList.remove("toast-visible"),e.classList.add("toast-dismissing"),setTimeout(()=>{if(e.parentNode&&e.parentNode.removeChild(e),e._escapeHandler&&document.removeEventListener("keydown",e._escapeHandler),r--,o.length>0){const e=o.shift();i(e.message,e.type,e.options)}},300)}const a={success:(e,t={})=>i(e,"success",t),error:(e,t={})=>i(e,"error",{...t,role:"alert"}),warning:(e,t={})=>i(e,"warning",t),info:(e,t={})=>i(e,"info",t),show:(e,t="info",n={})=>i(e,t,n),dismissAll(){Object.values(n).forEach(e=>{e.querySelectorAll(".toast").forEach(s)}),o=[]},configure(e){Object.assign(t,e)}};"undefined"!=typeof module&&module.exports?module.exports=a:e.toast=a}("undefined"!=typeof window?window:this);