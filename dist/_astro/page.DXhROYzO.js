function a(){if(!navigator.clipboard){console.warn("Clipboard API not available (requires HTTPS)");return}document.querySelectorAll("pre > code").forEach(o=>{if(o.parentNode.querySelector(".copy-button"))return;const e=document.createElement("button");e.className="copy-button",e.textContent="Copy",e.setAttribute("aria-label","Copy code to clipboard"),e.onclick=async()=>{try{await navigator.clipboard.writeText(o.innerText),e.textContent="Copied!",e.classList.add("copied"),setTimeout(()=>{e.textContent="Copy",e.classList.remove("copied")},2e3)}catch(t){console.error("Failed to copy:",t),e.textContent="Failed",setTimeout(()=>{e.textContent="Copy"},2e3)}},o.parentNode.append(e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a();typeof window<"u"&&(window.initCopyButtons=a);function l(o=document){o.querySelectorAll(".scroll:not([data-scroll-initialized])").forEach(t=>{const i=()=>{if(!(t.scrollWidth>t.clientWidth)){t.classList.remove("show-left-shadow","show-right-shadow");return}const s=t.scrollLeft,d=t.scrollWidth-t.clientWidth;t.classList.toggle("show-right-shadow",s===0),t.classList.toggle("show-left-shadow",s>=d-1)};i(),t.addEventListener("scroll",i,{passive:!0}),window.addEventListener("resize",i),t.dataset.scrollInitialized="true"})}document.addEventListener("DOMContentLoaded",()=>{l(document)});document.body.addEventListener("htmx:beforeSwap",o=>{const i=new DOMParser().parseFromString(o.detail.xhr.responseText,"text/html").documentElement.dataset.theme;i&&(document.documentElement.dataset.theme=i)});document.body.addEventListener("htmx:afterSettle",function(o){window.imageZoom&&window.imageZoom.rescan(),l(o.detail.elt),a()});/**
 * Image Zoom - Standalone
 *
 * A lightweight image zoom library with keyboard navigation.
 * Click any image to zoom, use arrow keys to navigate, ESC to close.
 *
 * Features:
 * - Click to zoom in/out
 * - Keyboard navigation (←/→ arrows)
 * - ESC to close
 * - Wraps around image gallery
 * - Auto-injects required CSS
 * - Custom events for extensibility
 * - Configurable selectors
 *
 * @version @VERSION_PLACEHOLDER@
 * @license MIT
 * @author Your Name
 */class r{constructor(e={}){this.options={selector:"img:not([data-no-zoom])",enableKeyboardNav:!0,...e},this.overlay=null,this.originalImage=null,this.images=[],this.boundKeydownHandler=this.handleKeydown.bind(this),this.boundCloseHandler=this.close.bind(this),this.init()}init(){document.documentElement.classList.add("js-image-zoom-enabled"),document.addEventListener("click",this.handleClick.bind(this))}rescan(){this.refreshImages(),console.log(`ImageZoom rescanned. Found ${this.images.length} images.`)}refreshImages(){return this.images=Array.from(document.querySelectorAll(this.options.selector)),this.images.length}handleClick(e){const t=e.target.closest(this.options.selector);t&&!this.overlay?(e.preventDefault(),e.stopPropagation(),this.open(t)):this.overlay&&(e.preventDefault(),this.close())}handleKeydown(e){if(this.overlay)switch(e.key){case"Escape":e.preventDefault(),this.close();break;case"ArrowLeft":case"ArrowUp":e.preventDefault(),this.navigate(-1);break;case"ArrowRight":case"ArrowDown":e.preventDefault(),this.navigate(1);break}}open(e){if(this.overlay)return;this.this.originalImage=e,this.overlay=document.createElement("div"),this.overlay.className="image-zoom-overlay";const t=new Image;t.src=this.originalImage.src,t.alt=this.originalImage.alt,this.overlay.appendChild(t),document.body.appendChild(this.overlay),document.documentElement.classList.add("image-zoomed-active"),this.options.enableKeyboardNav&&document.addEventListener("keydown",this.boundKeydownHandler),window.addEventListener("scroll",this.boundCloseHandler),requestAnimationFrame(()=>{this.overlay.classList.add("is-visible")})}close(){this.overlay&&(window.removeEventListener("scroll",this.boundCloseHandler),this.overlay.classList.remove("is-visible"),this.overlay.addEventListener("transitionend",()=>{this.overlay&&(this.overlay.remove(),this.overlay=null)},{once:!0}),document.documentElement.classList.remove("image-zoomed-active"),this.originalImage=null,this.options.enableKeyboardNav&&document.removeEventListener("keydown",this.boundKeydownHandler))}navigate(e){if(!this.originalImage)return;this.images=Array.from(document.querySelectorAll(this.options.selector));const t=this.images.indexOf(this.originalImage);if(t===-1)return;const i=(t+e+this.images.length)%this.images.length,n=this.images[i];if(n){const s=this.overlay.querySelector("img");s.src=n.src,s.alt=n.alt,this.originalImage=n}}destroy(){this.overlay&&this.close(),document.removeEventListener("click",this.handleClick.bind(this))}}if(typeof window<"u"){window.ImageZoom=r;const o=()=>{window.imageZoom=new r};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o()}
