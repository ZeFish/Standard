<!DOCTYPE html><!-- Use Base layout and pass the markdown content through --><html class="rhythm" lang="en" data-theme="default"> <head><meta charset="utf-8"><!-- Standard Framework | https://standard.ffp.co --><title>Standard Framework</title><meta name="description" content="Standard is built on the belief that design systems should be rooted in centuries of typographic tradition, mathematical precision, and the timeless principles of Swiss International Style."><meta name="author" content="Francis Fontaine"><meta name="language" content="en"><meta name="referrer" content="strict-origin-when-cross-origin"><!-- Canonical URL --><link rel="canonical" href="https://standard.ffp.co/cloudflare/comments/COMMENTS-FILES/"><!-- Feed & Sitemap --><link rel="alternate" type="application/atom+xml" title="Standard Framework" href="https://standard.ffp.co/feed.xml"><link rel="sitemap" type="application/xml" title="Sitemap" href="https://standard.ffp.co/sitemap.xml"><!-- Robots Meta --><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><!-- Open Graph --><meta property="og:title" content="Standard Framework"><meta property="og:type" content="article"><meta property="og:locale" content="en"><meta property="og:site_name" content="Standard Framework"><meta property="og:url" content="https://standard.ffp.co/cloudflare/comments/COMMENTS-FILES/"><meta property="og:description" content="Standard is built on the belief that design systems should be rooted in centuries of typographic tradition, mathematical precision, and the timeless principles of Swiss International Style."><meta property="og:image" content="https://standard.ffp.co/assets/img/default.png"><meta property="og:image:alt" content="Standard Framework"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><!-- Twitter Cards --><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://standard.ffp.co/assets/img/default.png"><meta name="twitter:image:alt" content="Standard Framework"><meta name="twitter:site" content="@francisfontaine"><meta name="twitter:creator" content="@francisfontaine"><meta name="twitter:title" content="Standard Framework"><meta name="twitter:description" content="Standard is built on the belief that design systems should be rooted in centuries of typographic tradition, mathematical precision, and the timeless principles of Swiss International Style."><!-- Schema.org --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Standard Framework","description":"Standard is built on the belief that design systems should be rooted in centuries of typographic tradition, mathematical precision, and the timeless principles of Swiss International Style.","author":{"@type":"Person","name":"Francis Fontaine","url":"https://standard.ffp.co/now/"},"publisher":{"@type":"Person","name":"Francis Fontaine","url":"https://standard.ffp.co","logo":{"@type":"ImageObject","url":"https://standard.ffp.co/francis-fontaine-avatar.png"}},"image":{"@type":"ImageObject","url":"https://standard.ffp.co/assets/img/default.png","width":1200,"height":630},"mainEntityOfPage":{"@type":"WebPage","@id":"https://standard.ffp.co/cloudflare/comments/COMMENTS-FILES/"}}</script><!-- Favicons --><link rel="apple-touch-icon" sizes="180x180" href="https://standard.ffp.co/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://standard.ffp.co/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://standard.ffp.co/favicons/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" href="https://standard.ffp.co/favicons/safari-pinned-tab.svg" color="#000000"><link rel="shortcut icon" href="https://standard.ffp.co/favicons/favicon.ico"><!-- Mobile --><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)"><!-- Windows Tiles --><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-config" content="https://standard.ffp.co/favicons/browserconfig.xml"><link rel="preconnect" href="https://rsms.me/"><link rel="stylesheet" href="https://rsms.me/inter/inter.css"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap" rel="stylesheet"><!-- Standard Framework Lab Features --><script src="/assets/standard/standard.lab.js?v=1764047976400"></script><!-- Load HTMX library --><script type="module" src="/_astro/Base.astro_astro_type_script_index_0_lang.C1onTupY.js"></script><link rel="stylesheet" href="https://use.typekit.net/epz8pgr.css"><!-- âœ… FIX: Load scripts only on client side --><script type="module">
            import "/assets/js/standard.js";
            // import "/assets/js/standard.lab.js"; // Removed - Lab component handles this
            import "/assets/js/standard.toast.js";
            import "/assets/js/standard.comment.js";
        </script><link rel="stylesheet" href="/_astro/_slug_.dcmf1oDl.css"><script type="module" src="/_astro/page.DXhROYzO.js"></script></head> <body hx-boost="true" hx-ext="preload" hx-target="body" hx-swap="innerHTML scroll:window:top" class="prose"> <a href="#main" class="skip-link">Skip to content</a> <header class="flex font-interface" style="justify-content: space-between; max-width: 100%;"> <p> <a href="/" style="text-decoration: none;">Standard Framework</a> </p> <nav class="menu horizontal" aria-label="Navigation"> <ul class="menu"> <li class="menu__item"> <a class="menu__link" href="/docs/"> Docs </a> </li><li class="menu__item"> <a class="menu__link" href="/getting-started/"> Getting Started </a> </li><li class="menu__item"> <a class="menu__link" href="/cheat-sheet/"> Cheat Sheet </a> </li> </ul> </nav> </header> <main id="main" class="prose">  <h1 id="github-comments-system--file-directory">GitHub Comments System â€“ File Directory</h1>
<p>Complete list ofÂ files forÂ theÂ GitHub commentsÂ system.</p>
<h2 id="-file-structure">ğŸ“ File Structure</h2>
<p><strong>SourceÂ Code</strong> (<code>src/cloudflare/</code>):</p>
<pre class="language-plaintext" data-language="plaintext"><code is:raw="" class="language-plaintext">src/cloudflare/
â”œâ”€â”€ comments.js                 (12 KB) â† Main server handler
â”œâ”€â”€ standard.comment.js          (9.5 KB) â† Browser library
â”œâ”€â”€ comments-example.js         (2.7 KB) â† Cloudflare endpoint
â”œâ”€â”€ wrangler-comments.toml.template (3.3 KB)
â”œâ”€â”€ wrangler.toml.template      (already exists)
â”œâ”€â”€ utils.js                    (already exists)
â””â”€â”€ example.js                  (already exists)
</code></pre>
<p><strong>Documentation</strong> (<code>content/cloudflare/comments/</code>):</p>
<pre class="language-plaintext" data-language="plaintext"><code is:raw="" class="language-plaintext">content/cloudflare/comments/
â”œâ”€â”€ COMMENTS-QUICK-START.md     (8 KB) â† Start here (10 min setup)
â”œâ”€â”€ COMMENTS-GUIDE.md           (12 KB) â† Full documentation
â”œâ”€â”€ COMMENTS-FILES.md           (this file)
â”œâ”€â”€ comments-template.html      (9.7 KB) â† Complete HTML+CSS
â””â”€â”€ index.md                    â† Overview &#x26; navigation
</code></pre>
<h2 id="-file-details">ğŸ“„ File Details</h2>
<h3 id="core-implementation">Core Implementation</h3>
<h4 id="commentsjs-12-kb">comments.js (12 KB)</h4>
<p><strong>Purpose</strong>: Server-side comment handler forÂ CloudflareÂ Functions</p>
<p><strong>KeyÂ Exports</strong>:</p>
<ul>
<li><code>handleComments(request,Â env)</code> â€“ Main handlerÂ function</li>
<li><code>handleCommentSubmission(data,Â env)</code> â€“ ProcessÂ comment</li>
<li><code>getCommentsFromGitHub(pageId,Â env)</code> â€“ FetchÂ comments</li>
<li><code>submitToGitHub(file,Â env)</code> â€“ Save toÂ GitHub</li>
</ul>
<p><strong>Functions</strong>:</p>
<ul>
<li><code>generateCommentId()</code> â€“ Create uniqueÂ IDs</li>
<li><code>sanitizeHTML(content)</code> â€“ RemoveÂ XSS</li>
<li><code>validateComment(data)</code> â€“ ValidateÂ input</li>
<li><code>detectSpam(comment)</code> â€“ SpamÂ detection</li>
<li><code>getGitHubHeaders(env)</code> â€“ GitHub APIÂ auth</li>
<li><code>createCommentFile(pageId,Â comment)</code> â€“ FormatÂ file</li>
<li><code>sendModerationEmail(comment, spamDetection,Â env)</code> â€“Â Alerts</li>
</ul>
<p><strong>Configuration</strong>:</p>
<ul>
<li><code>GITHUB_TOKEN</code> â€“ GitHubÂ authentication</li>
<li><code>GITHUB_OWNER</code> â€“ GitHubÂ user/org</li>
<li><code>GITHUB_REPO</code> â€“ RepositoryÂ name</li>
<li><code>GITHUB_COMMENTS_PATH</code> â€“ StorageÂ path</li>
<li><code>SPAM_CHECK_ENABLED</code> â€“ Enable spamÂ detection</li>
<li><code>MODERATION_EMAIL</code> â€“ ModeratorÂ email</li>
</ul>
<p><strong>Lines</strong>: ~400 (well-documented) <strong>Dependencies</strong>: Built-inÂ fetch, noÂ npmÂ packages</p>
<h4 id="standardcommentjs-95-kb">standard.comment.js (9.5 KB)</h4>
<p><strong>Purpose</strong>: Browser library forÂ rendering andÂ formÂ handling</p>
<p><strong>Class</strong>: <code>GitHubComments</code></p>
<p><strong>KeyÂ Methods</strong>:</p>
<ul>
<li><code>load()</code> â€“ Fetch comments fromÂ API</li>
<li><code>submit(data)</code> â€“ Submit newÂ comment</li>
<li><code>render()</code> â€“ Render commentÂ tree</li>
<li><code>attachFormHandler(selector)</code> â€“ SetupÂ form</li>
<li><code>startPolling()</code> â€“ Enable real-timeÂ updates</li>
<li><code>stopPolling()</code> â€“ DisableÂ polling</li>
</ul>
<p><strong>Utilities</strong>:</p>
<ul>
<li><code>formatTime(dateStr)</code> â€“ RelativeÂ timestamps</li>
<li><code>formatContent(content)</code> â€“ Markdown toÂ HTML</li>
<li><code>escapeHTML(text)</code> â€“ XSSÂ prevention</li>
<li><code>buildCommentTree()</code> â€“ NestedÂ structure</li>
<li><code>renderTree(comments,Â level)</code> â€“ RecursiveÂ render</li>
</ul>
<p><strong>Configuration</strong>:</p>
<ul>
<li><code>apiUrl</code> â€“ Comments APIÂ endpoint</li>
<li><code>pageId</code> â€“ Unique pageÂ identifier</li>
<li><code>container</code> â€“ WhereÂ toÂ renderÂ comments</li>
<li><code>form</code> â€“ Comment formÂ selector</li>
<li><code>pollInterval</code> â€“ Update frequencyÂ (optional)</li>
</ul>
<p><strong>Lines</strong>: ~350 <strong>Dependencies</strong>: None (vanillaÂ JavaScript)</p>
<h4 id="comments-examplejs-27-kb">comments-example.js (2.7 KB)</h4>
<p><strong>Purpose</strong>: Ready-to-deploy Cloudflare WorkersÂ function</p>
<p><strong>Exports</strong>:</p>
<ul>
<li><code>default</code> handler object withÂ <code>fetch</code>Â method</li>
</ul>
<p><strong>Middleware</strong>:</p>
<ul>
<li><code>validateEnvironment()</code> â€“ Check requiredÂ vars</li>
<li><code>handleCorsMiddleware()</code> â€“ CORSÂ preflight</li>
<li><code>logRequest()</code> â€“ RequestÂ logging</li>
<li>Error handling andÂ responseÂ wrapping</li>
</ul>
<p><strong>HowÂ toÂ Use</strong>:</p>
<pre class="language-bash" data-language="bash"><code is:raw="" class="language-bash"><span class="token function">cp</span> comments-example.js functions/api/comments.js
wrangler publish <span class="token parameter variable">â€“env</span> production
</code></pre>
<p><strong>Lines</strong>: ~60 <strong>Dependencies</strong>: <code>comments.js</code>, <code>utils.js</code></p>
<h3 id="configuration">Configuration</h3>
<h4 id="wrangler-commentstomltemplate-33-kb">wrangler-comments.toml.template (3.3 KB)</h4>
<p><strong>Purpose</strong>: Cloudflare Workers configurationÂ template</p>
<p><strong>Sections</strong>:</p>
<ul>
<li><code>[env.development]</code> â€“ LocalÂ development</li>
<li><code>[env.staging]</code> â€“ StagingÂ environment</li>
<li><code>[env.production]</code> â€“ ProductionÂ environment</li>
</ul>
<p><strong>EnvironmentÂ Variables</strong>:</p>
<ul>
<li>Required: GITHUB_TOKEN, GITHUB_OWNER, GITHUB_REPO,Â GITHUB_COMMENTS_PATH</li>
<li>Optional: MODERATION_EMAIL, GITHUB_WEBHOOK_SECRET,Â SPAM_CHECK_ENABLED</li>
</ul>
<p><strong>HowÂ toÂ Use</strong>:</p>
<pre class="language-bash" data-language="bash"><code is:raw="" class="language-bash"><span class="token function">cp</span> wrangler-comments.toml.template wrangler.toml
<span class="token comment"># EditÂ values</span>
wrangler secret put GITHUB_TOKEN <span class="token parameter variable">â€“env</span> production
</code></pre>
<h3 id="templates--examples">Templates &#x26; Examples</h3>
<h4 id="comments-templatehtml-97-kb">comments-template.html (9.7 KB)</h4>
<p><strong>Purpose</strong>: Complete HTML + CSS template forÂ integration</p>
<p><strong>Components</strong>:</p>
<ul>
<li>HTML form withÂ author, email, contentÂ fields</li>
<li>Comments displayÂ container</li>
<li>Inline CSS styling (canÂ beÂ extracted)</li>
<li>JavaScript initializationÂ code</li>
<li>ResponsiveÂ design</li>
<li>AccessibilityÂ features</li>
</ul>
<p><strong>Sections</strong>:</p>
<ol>
<li>CommentsÂ header</li>
<li>CommentsÂ container</li>
<li>CommentÂ form</li>
<li>JavaScriptÂ setup</li>
<li>CSS styling (embed orÂ link)</li>
</ol>
<p><strong>HowÂ toÂ Use</strong>: Copy form HTML into your article template, include CSS, andÂ add JavaScriptÂ initialization.</p>
<h3 id="documentation">Documentation</h3>
<h4 id="comments-quick-startmd-8-kb">COMMENTS-QUICK-START.md (8 KB)</h4>
<p><strong>StartÂ here!</strong> 10-minute setupÂ guide.</p>
<p><strong>Sections</strong>:</p>
<ul>
<li>FilesÂ included</li>
<li>Setup inÂ 3Â steps</li>
<li>MinimalÂ example</li>
<li>EnvironmentÂ variables</li>
<li>KeyÂ features</li>
<li>FileÂ structure</li>
<li>APIÂ endpoints</li>
<li>CommonÂ issues</li>
<li>AdvancedÂ features</li>
</ul>
<p><strong>BestÂ For</strong>: First-time setup, quickÂ reference</p>
<h4 id="comments-guidemd-12-kb">COMMENTS-GUIDE.md (12 KB)</h4>
<p><strong>CompleteÂ documentation</strong> forÂ theÂ commentÂ system.</p>
<p><strong>Sections</strong>:</p>
<ul>
<li>HowÂ itÂ worksÂ (diagram)</li>
<li>FeaturesÂ list</li>
<li>Setup instructionsÂ (detailed)</li>
<li>Comment fileÂ structure</li>
<li>ModerationÂ workflow</li>
<li>API referenceÂ (full)</li>
<li>AdvancedÂ usage</li>
<li>EmailÂ integration</li>
<li>Troubleshooting</li>
<li>SecurityÂ considerations</li>
<li>DeploymentÂ checklist</li>
</ul>
<p><strong>BestÂ For</strong>: Deep understanding, advanced features,Â troubleshooting</p>
<h4 id="comments-filesmd-thisfile">COMMENTS-FILES.md (thisÂ file)</h4>
<p><strong>FileÂ reference</strong> andÂ quickÂ directory.</p>
<p><strong>Sections</strong>:</p>
<ul>
<li>File structureÂ diagram</li>
<li>Detailed description ofÂ eachÂ file</li>
<li>Size andÂ stats</li>
<li>HowÂ toÂ use eachÂ file</li>
<li>WhichÂ file toÂ readÂ first</li>
</ul>
<h3 id="supporting-files-already-exist">Supporting Files (Already Exist)</h3>
<h4 id="utilsjs-5-kb">utils.js (5 KB)</h4>
<p><strong>Shared utilityÂ functions</strong> used byÂ commentsÂ system.</p>
<p><strong>Exports</strong>:</p>
<ul>
<li><code>corsHeaders</code> â€“ CORS headersÂ object</li>
<li><code>handleCORS()</code> â€“ CORSÂ middleware</li>
<li><code>createResponse()</code> â€“ FormatÂ responses</li>
<li><code>createErrorResponse()</code> â€“ FormatÂ errors</li>
<li><code>parseRequest()</code> â€“ Parse incomingÂ request</li>
<li><code>withCache()</code> â€“ Add cacheÂ headers</li>
<li><code>validateMethod()</code> â€“ Check HTTPÂ method</li>
</ul>
<p><strong>UsedÂ By</strong>: comments-example.js, otherÂ endpoints</p>
<h4 id="examplejs-15-kb">example.js (1.5 KB)</h4>
<p><strong>Example CloudflareÂ function</strong> showingÂ utilities.</p>
<p><strong>Purpose</strong>: Demonstrates howÂ toÂ use standard utilitiesÂ pattern</p>
<p><strong>SeeÂ Also</strong>: comments-example.js forÂ similarÂ pattern</p>
<h4 id="readmemd-5-kb">README.md (5 KB)</h4>
<p><strong>General CloudflareÂ documentation</strong> forÂ StandardÂ Framework.</p>
<p><strong>Sections</strong>:</p>
<ul>
<li>WhatÂ isÂ CloudflareÂ Functions</li>
<li>FileÂ organization</li>
<li>GettingÂ started</li>
<li>Deployment</li>
<li>EnvironmentÂ setup</li>
</ul>
<h4 id="usagemd-6-kb">USAGE.md (6 KB)</h4>
<p><strong>General usageÂ patterns</strong> forÂ CloudflareÂ Functions.</p>
<p><strong>Sections</strong>:</p>
<ul>
<li>HowÂ toÂ deploy</li>
<li>EnvironmentÂ variables</li>
<li>TestingÂ locally</li>
<li>Debugging</li>
<li>PerformanceÂ tips</li>
</ul>
<h4 id="summarymd-5-kb">SUMMARY.md (5 KB)</h4>
<p><strong>Overview ofÂ theÂ CloudflareÂ integration</strong> withÂ StandardÂ Framework.</p>
<p><strong>Sections</strong>:</p>
<ul>
<li>Whatâ€™sÂ included</li>
<li>FileÂ structure</li>
<li>SetupÂ checklist</li>
<li>NextÂ steps</li>
</ul>
<h4 id="quick-refmd-45-kb">QUICK-REF.md (4.5 KB)</h4>
<p><strong>QuickÂ reference</strong> forÂ common CloudflareÂ tasks.</p>
<p><strong>Sections</strong>:</p>
<ul>
<li>CommonÂ patterns</li>
<li>CodeÂ snippets</li>
<li>Troubleshooting</li>
<li>FAQ</li>
</ul>
<h2 id="-file-statistics">ğŸ“Š File Statistics</h2>
<p>| File | Size | Lines | Purpose | |||-|â€”| | comments.js | 12 KB | 400 | Server handler | | standard.comment.js | 9.5 KB | 350 | Browser library | | comments-template.html | 9.7 KB | 400 | HTML template | | COMMENTS-GUIDE.md | 12 KB | 602 | Full docs | | COMMENTS-QUICK-START.md | 8 KB | 304 | Quick setup | | wrangler-comments.toml.template | 3.3 KB | 100 | Config template | | comments-example.js | 2.7 KB | 60 | Example endpoint | | COMMENTS-FILES.md | 6 KB | 250 | ThisÂ file | | <strong>Total</strong> | <strong>~65Â KB</strong> | <strong>~2,500</strong> |Â |</p>
<h2 id="-getting-started">ğŸš€ Getting Started</h2>
<h3 id="whichfile-shouldi-read-first">WhichÂ file shouldÂ I read first?</h3>
<ol>
<li><strong>New toÂ this?</strong> â†’ Read <code>COMMENTS-QUICK-START.md</code> (10Â min)</li>
<li><strong>Need fullÂ details?</strong> â†’ Read <code>COMMENTS-GUIDE.md</code> (30Â min)</li>
<li><strong>Ready toÂ code?</strong> â†’ Copy <code>comments-template.html</code> + <code>comments-example.js</code></li>
<li><strong>Troubleshooting?</strong> â†’ Check <code>COMMENTS-GUIDE.md</code> troubleshootingÂ section</li>
</ol>
<h3 id="howdoi-deploy">HowÂ doÂ I deploy?</h3>
<ol>
<li>Copy <code>comments-example.js</code> â†’ <code>functions/api/comments.js</code></li>
<li>Copy <code>wrangler-comments.toml.template</code> â†’ <code>wrangler.toml</code></li>
<li>Edit <code>wrangler.toml</code> withÂ your GitHubÂ details</li>
<li>Run <code>wrangler secret putÂ GITHUB_TOKEN</code></li>
<li>Run <code>wrangler publish â€“envÂ production</code></li>
</ol>
<h3 id="wheres-thehtml">Whereâ€™s theÂ HTML?</h3>
<p>Copy <code>comments-template.html</code> into your site template. ItÂ includes:</p>
<ul>
<li>CompleteÂ form</li>
<li>InlineÂ CSS</li>
<li>JavaScriptÂ initialization</li>
<li>NoÂ externalÂ dependencies</li>
</ul>
<h3 id="whatabout-thejavascript">WhatÂ about theÂ JavaScript?</h3>
<p><code>standard.comment.js</code> provides theÂ <code>GitHubComments</code>Â class:</p>
<pre class="language-javascript" data-language="javascript"><code is:raw="" class="language-javascript"><span class="token keyword">const</span> comments <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GitHubComments</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">apiUrl</span><span class="token operator">:</span> <span class="token string">'/api/commentsâ€™</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pageId</span><span class="token operator">:</span> <span class="token string">â€˜blog/my-postâ€™</span><span class="token punctuation">,</span>
  <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token string">'#commentsâ€™</span><span class="token punctuation">,</span>
  <span class="token literal-property property">form</span><span class="token operator">:</span> <span class="token string">'#comment-form'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> comments<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
comments<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
comments<span class="token punctuation">.</span><span class="token function">attachFormHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="-dependencies">ğŸ“¦ Dependencies</h2>
<h3 id="server-side-commentsjs-comments-examplejs">Server-Side (comments.js, comments-example.js)</h3>
<ul>
<li>None! Uses built-inÂ Cloudflare APIs andÂ fetch</li>
<li>OnlyÂ dependency: Cloudflare WorkersÂ runtime</li>
</ul>
<h3 id="client-side-standardcommentjs">Client-Side (standard.comment.js)</h3>
<ul>
<li>None! Pure vanillaÂ JavaScript</li>
<li>Browser support: AllÂ modern browsersÂ (ES6+)</li>
</ul>
<h3 id="configuration-wranglertoml">Configuration (wrangler.toml)</h3>
<ul>
<li>Wrangler CLI (localÂ development)</li>
<li>Node.js 14+ (buildÂ environment)</li>
</ul>
<h2 id="-security-files">ğŸ” Security Files</h2>
<p>AllÂ files follow security bestÂ practices:</p>
<ul>
<li>âœ… HTML sanitizationÂ (comments.js)</li>
<li>âœ… XSS preventionÂ (standard.comment.js)</li>
<li>âœ… Email validationÂ (comments.js)</li>
<li>âœ… Rate limiting supportÂ (Cloudflare)</li>
<li>âœ… Secrets managementÂ (wrangler.toml)</li>
</ul>
<h2 id="-comments-incode">ğŸ“ Comments inÂ Code</h2>
<p>AllÂ filesÂ include:</p>
<ul>
<li>JSDoc functionÂ comments</li>
<li>InlineÂ documentation</li>
<li>SetupÂ instructions</li>
<li>UsageÂ examples</li>
<li>ConfigurationÂ guides</li>
</ul>
<h2 id="-next-steps">ğŸ¯ Next Steps</h2>
<ol>
<li>Choose your setup: <code>COMMENTS-QUICK-START.md</code> orÂ <code>COMMENTS-GUIDE.md</code></li>
<li>Deploy: Follow setup inÂ chosenÂ guide</li>
<li>Integrate: Use <code>comments-template.html</code></li>
<li>Test: Submit aÂ comment andÂ verify inÂ GitHub</li>
<li>Customize: Adjust spam detection, styling,Â etc.</li>
<li>Monitor: Review moderationÂ queue</li>
</ol>
<h2 id="-related-files">ğŸ“š Related Files</h2>
<p>Standard Framework files thatÂ work withÂ comments:</p>
<ul>
<li><code>src/cloudflare/utils.js</code> â€“ SharedÂ utilities</li>
<li><code>src/layouts/base.njk</code> â€“ PageÂ templates</li>
<li><code>src/styles/standard-98-utilities.scss</code> â€“ StylingÂ utilities</li>
</ul>
<h2 id="-faq">â“ FAQ</h2>
<p><strong>Q: WhatÂ ifÂ I want toÂ use aÂ database instead ofÂ GitHub?</strong> A: See COMMENTS-GUIDE.md forÂ D1 database alternativeÂ pattern</p>
<p><strong>Q: CanÂ I integrate emailÂ notifications?</strong> A: Yes! See sendModerationEmail() inÂ comments.js andÂ COMMENTS-GUIDE.md</p>
<p><strong>Q: HowÂ doÂ I rateÂ limit?</strong> A: Cloudflareâ€™s built-inÂ rate limiting orÂ KV store pattern inÂ COMMENTS-GUIDE.md</p>
<p><strong>Q: IsÂ thisÂ production-ready?</strong> A: Yes! Used inÂ production sites. AllÂ files areÂ fully documented andÂ tested.</p>
<p><strong>Q: Whatâ€™s theÂ cost?</strong> A: Free tier covers mostÂ sites. Cloudflare Workers: 100K req/dayÂ free</p>
<p><strong>LastÂ Updated</strong>: October 22, 2024 <strong>Version</strong>: 0.10.53 <strong>Status</strong>: âœ… ProductionÂ Ready</p>  <article class="comments-system"> <div id="comments"></div> <button id="show-comment-form-btn" type="button" class="button" onclick="document.getElementById('comment-form-wrapper').style.display='block'; this.style.display='none';">
Write a Comment
</button> <div id="comment-form-wrapper" style="display: none;"> <form id="comment-form" method="post" action="/api/comments" novalidate> <fieldset> <legend>Leave a Comment</legend> <label for="author">Your Name <span aria-label="required">*</span></label> <input type="text" id="author" name="author" placeholder="Your name will be displayed with your comment." required maxlength="100"> <label for="email">Email Address <span aria-label="required">*</span></label> <input type="email" id="email" name="email" placeholder="Your email will not be displayed publicly." required> <label for="content">Comment <span aria-label="required">*</span></label> <textarea id="content" name="content" placeholder="Share your thoughts... Supports **bold**, *italic*, `code`, and [links](url)" required minlength="3" maxlength="10000" rows="6"></textarea> <!-- Hidden fields --> <input type="hidden" id="pageId" name="pageId" value="cloudflare_comments_COMMENTS-FILES"> <input type="hidden" id="parentId" name="parentId" value=""> <!-- Status indicator --> <div id="form-status" role="status" aria-live="polite"></div> <!-- Submit buttons --> <div class="form-actions"> <button type="submit" class="button">Post Comment</button>   </div> </fieldset> </form> </div> </article> <script defer>(function(){const initOptions = {"apiUrl":"/api/comments","pageId":"cloudflare_comments_COMMENTS-FILES","container":"#comments","form":"#comment-form","pollInterval":null};

  document.addEventListener("DOMContentLoaded", async () => {
    // Assuming GitHubComments is loaded globally or imported. 
    // Since the original used a global script, we might need to import it here or assume it's available.
    // For now, we'll assume the user includes the standard.comment.js script separately or we should import it.
    // But standard.comment.js is in dist/.
    
    if (typeof GitHubComments !== 'undefined') {
      const comments = new GitHubComments(initOptions);
      try {
        await comments.load();
        comments.render();
      } catch (error) {
        console.error("Error loading comments:", error);
        const container = document.querySelector("#comments");
        if (container) container.innerHTML = '<p class="error">Failed to load comments. Please try again later.</p>';
      }
      comments.attachFormHandler();
    }
  });
})();</script> </main> <hr> <footer class="smaller font-interface"> <p>
Â© 2025 Francis Fontaine Â·
<a href="/">Standard Framework</a> Â·
<a href="https://github.com/ZeFish/Standard/blob/main/LICENSE" class="external-link">MIT License</a> </p> </footer> </body></html>